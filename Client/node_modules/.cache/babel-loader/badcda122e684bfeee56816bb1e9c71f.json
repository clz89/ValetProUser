{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Chris\\\\Documents\\\\GitHub\\\\ValetProUser\\\\Client\\\\src\\\\components\\\\List\\\\Body.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { batch, useDispatch, useSelector } from \"react-redux\";\nimport { deleteCar } from \"../../_actions/subCars\";\nimport { createPull, deletePull, updatePull } from \"../../_actions/pulls\";\nimport { upForm } from \"../../_actions/updateForm\";\nimport { useNavigate } from \"react-router-dom\";\nimport Button from \"./Button\";\nimport { upReset } from \"../../_actions/updateForm\";\nimport { createOut, deleteOut } from \"../../_actions/outnr\";\nimport { createComp, deleteComp } from \"../../_actions/completed\";\n\nconst TableBody = ({\n  setTableData,\n  carlength,\n  x,\n  cars,\n  pull,\n  data,\n  on,\n  day,\n  tableData,\n  columns,\n  setPullId,\n  setModal\n}) => {\n  _s();\n\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const posts = useSelector(state => state.updateForm);\n  const dispatch = useDispatch();\n  let navigate = useNavigate();\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n  useEffect(() => {\n    tableData.filter(data => {\n      if (!data.complete && data.checkout === \"Returning\") {\n        data.complete = \"Completed\";\n        batch(() => {\n          dispatch(updatePull(data));\n          dispatch(upReset(posts));\n        });\n      }\n    });\n  });\n  useEffect(() => {\n    tableData.filter(data => {\n      if (!data.complete && data.checkout === \"Checking Out\") {\n        data.complete = \"Completed\";\n        dispatch(updatePull(data));\n        dispatch(upReset(posts));\n      }\n    });\n  });\n  useEffect(() => {\n    tableData.filter(data => {\n      if (data.checkout === \"checkout\") {\n        data.checkout = \"Checking Out\";\n        data.complete = \"Completed\";\n        batch(() => {\n          dispatch(deleteCar(data._id));\n          dispatch(createPull(data));\n        });\n      }\n    });\n    setTableData();\n  }, [dispatch, tableData, x]);\n  useEffect(() => {\n    tableData.filter(data => {\n      if (data.checkout === \"return\") {\n        data.checkout = \"Returning\";\n        data.complete = \"Completed\";\n        batch(() => {\n          dispatch(deleteCar(data._id));\n          dispatch(createPull(data));\n        });\n        dispatch(x);\n      }\n    });\n    data = \"\";\n  }, [dispatch, tableData, x]);\n  useEffect(() => {\n    tableData.filter(data => {\n      if (!data.complete && data.vcolor && data.price) {\n        data.complete = \"Completed\";\n        data.checkout = \"Paid\";\n        batch(() => {\n          dispatch(deleteCar(data._id));\n          dispatch(createPull(data));\n        });\n        dispatch(x);\n      }\n    });\n    data = \"\";\n  }, [dispatch, tableData, x]);\n  /*\r\n  useEffect(() => {\r\n    tableData.filter((data) => {\r\n      if (pull && !data.complete===\"complete\" && data.price && data.vcolor) {\r\n       data.complete=\"Completed\"\r\n      dispatch(updatePull(data._id, data))\r\n    }\r\n    })\r\n  })\r\n  useEffect(() => {\r\n  tableData.filter((data) => {\r\n  if (pull && !data.complete===\"complete\" && data.checkout) {\r\n   data.checkout=\"Checking Out\"\r\n   data.complete=\"Completed\"\r\n  dispatch(updatePull(data._id, data))  \r\n  }\r\n  \r\n  })\r\n  })*/\n\n  const handleUpdate = e => {\n    const evt = e.target.value;\n    tableData.filter(data => {\n      if (evt === data._id) {\n        dispatch(upForm(data));\n        navigate(\"/1\");\n      }\n    });\n  };\n\n  const handleComp = e => {\n    const evt = e.target.value;\n    tableData.filter(data => {\n      if (evt === data._id && data.checkout === \"Returning\") {\n        dispatch(deletePull(data._id));\n        dispatch(createOut(data));\n      } else if (evt === data._id && data.checkout !== \"Returning\") {\n        dispatch(deletePull(data._id));\n        dispatch(createComp(data));\n      }\n    });\n  };\n\n  const handleModal = e => {\n    setModal(true);\n    setPullId(e.target.value);\n    const evt = e.target.value;\n    tableData.filter(data => {\n      if (evt === data._id) {\n        dispatch(upForm(data));\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"tbody\", {\n    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n      className: \"tdlength\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"search...\",\n        onChange: event => {\n          setSearchTerm(event.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 12\n      }, this), \"\\xA0\\xA0\\xA0\", carlength, \"\\xA0\", /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"cars\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 48\n      }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"total\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 65\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 12\n    }, this), tableData.filter(data => {\n      if (!on && !day) {\n        return data;\n      } else if (!on) {\n        var _data$type;\n\n        return (_data$type = data.type) === null || _data$type === void 0 ? void 0 : _data$type.includes(\"on\");\n      } else if (!day) {\n        var _data$type2;\n\n        return (_data$type2 = data.type) === null || _data$type2 === void 0 ? void 0 : _data$type2.includes(\"day\");\n      }\n    }).filter(data => {\n      var _data$ticket, _data$name, _data$room, _data$vmake, _data$vcolor, _data$vmodel;\n\n      if (searchTerm === \"\") {\n        return data;\n      } else if ((_data$ticket = data.ticket) === null || _data$ticket === void 0 ? void 0 : _data$ticket.toLowerCase().includes(searchTerm.toLowerCase())) {\n        return data;\n      } else if ((_data$name = data.name) === null || _data$name === void 0 ? void 0 : _data$name.toLowerCase().includes(searchTerm.toLowerCase())) {\n        return data;\n      } else if ((_data$room = data.room) === null || _data$room === void 0 ? void 0 : _data$room.toLowerCase().includes(searchTerm.toLowerCase())) {\n        return data;\n      } else if ((_data$vmake = data.vmake) === null || _data$vmake === void 0 ? void 0 : _data$vmake.toLowerCase().includes(searchTerm.toLowerCase())) {\n        return data;\n      } else if ((_data$vcolor = data.vcolor) === null || _data$vcolor === void 0 ? void 0 : _data$vcolor.toLowerCase().includes(searchTerm.toLowerCase())) {\n        return data;\n      } else if ((_data$vmodel = data.vmodel) === null || _data$vmodel === void 0 ? void 0 : _data$vmodel.toLowerCase().includes(searchTerm.toLowerCase())) {\n        return data;\n      }\n    }).map(data => {\n      return /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: [!data.complete && /*#__PURE__*/_jsxDEV(\"button\", {\n            value: data._id,\n            onClick: handleModal,\n            children: \"Process\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 15\n          }, this), data.complete && /*#__PURE__*/_jsxDEV(\"button\", {\n            value: data._id,\n            onClick: handleComp,\n            children: \"Completed\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"\",\n            value: data._id,\n            onClick: handleUpdate,\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"\",\n            value: data._id,\n            onClick: () => dispatch(deletePull(data._id)) && dispatch(deleteCar(data._id)) && dispatch(deleteComp(data._id)) && dispatch(deleteOut(data._id)),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 14\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 15\n        }, this), columns.map(({\n          accessor\n        }) => {\n          const tData = data[accessor] ? data[accessor] : \"\";\n          return /*#__PURE__*/_jsxDEV(\"td\", {\n            children: tData\n          }, accessor, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 24\n          }, this);\n        })]\n      }, data._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 13\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 7\n  }, this);\n};\n\n_s(TableBody, \"z+Ik7lcAHa9/R/VgS0RCv2Em8tw=\", false, function () {\n  return [useSelector, useDispatch, useNavigate];\n});\n\n_c = TableBody;\nexport default TableBody;\n\nvar _c;\n\n$RefreshReg$(_c, \"TableBody\");","map":{"version":3,"sources":["C:/Users/Chris/Documents/GitHub/ValetProUser/Client/src/components/List/Body.js"],"names":["React","useEffect","useState","batch","useDispatch","useSelector","deleteCar","createPull","deletePull","updatePull","upForm","useNavigate","Button","upReset","createOut","deleteOut","createComp","deleteComp","TableBody","setTableData","carlength","x","cars","pull","data","on","day","tableData","columns","setPullId","setModal","searchTerm","setSearchTerm","posts","state","updateForm","dispatch","navigate","window","scrollTo","filter","complete","checkout","_id","vcolor","price","handleUpdate","e","evt","target","value","handleComp","handleModal","event","type","includes","ticket","toLowerCase","name","room","vmake","vmodel","map","accessor","tData"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\"\r\nimport { batch, useDispatch, useSelector } from \"react-redux\";\r\nimport { deleteCar } from \"../../_actions/subCars\";\r\nimport { createPull, deletePull, updatePull } from \"../../_actions/pulls\";\r\nimport { upForm } from \"../../_actions/updateForm\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Button from \"./Button\";\r\nimport { upReset } from \"../../_actions/updateForm\";\r\nimport { createOut, deleteOut } from \"../../_actions/outnr\";\r\nimport { createComp, deleteComp } from \"../../_actions/completed\";\r\n\r\nconst TableBody = ({ setTableData, carlength, x, cars, pull, data, on, day, tableData, columns, setPullId, setModal}) => {\r\n   \r\n    const [searchTerm, setSearchTerm] = useState(\"\");\r\n    const posts = useSelector( state => state.updateForm )\r\n    \r\n    const dispatch = useDispatch();\r\n    let navigate = useNavigate()\r\n\r\n    useEffect(() => {\r\n      window.scrollTo(0, 0)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n      tableData.filter((data) => {\r\n        if (!data.complete && data.checkout===\"Returning\") {\r\n          data.complete=\"Completed\"  \r\n          batch (() => {               \r\n          dispatch(updatePull(data))\r\n          dispatch(upReset(posts))})\r\n        }      \r\n      })\r\n    }) \r\n\r\n    useEffect(() => {\r\n      tableData.filter((data) => {\r\n        if (!data.complete && data.checkout===\"Checking Out\") {\r\n          data.complete=\"Completed\"                 \r\n          dispatch(updatePull(data))\r\n          dispatch(upReset(posts))\r\n        }      \r\n      })\r\n    })  \r\n    \r\n    useEffect(() => {\r\n      tableData.filter((data) => {\r\n        if (data.checkout===\"checkout\") {\r\n          data.checkout=\"Checking Out\"\r\n          data.complete=\"Completed\"\r\n          batch (()=>{\r\n          dispatch(deleteCar(data._id))\r\n         dispatch(createPull(data))})\r\n        }\r\n     })\r\n      setTableData()\r\n   }, [dispatch, tableData, x])\r\n\r\n    useEffect(() => {\r\n      tableData.filter((data) => {\r\n        if (data.checkout===\"return\") {\r\n        \r\n        data.checkout=\"Returning\"\r\n        data.complete=\"Completed\"\r\n        batch (()=>{\r\n        dispatch(deleteCar(data._id))\r\n        dispatch(createPull(data))})\r\n        dispatch(x)\r\n        }\r\n      })\r\n      data = \"\"\r\n    }, [dispatch, tableData, x])\r\n\r\n    useEffect(() => {\r\n      tableData.filter((data) => {\r\n        if (!data.complete && data.vcolor && data.price  ) {  \r\n        data.complete=\"Completed\"\r\n        data.checkout=\"Paid\"\r\n        batch (() => {\r\n        dispatch(deleteCar(data._id))     \r\n        dispatch(createPull(data))})\r\n        dispatch(x)\r\n         }\r\n      })\r\n      data = \"\"\r\n    }, [dispatch, tableData, x])\r\n    /*\r\n    useEffect(() => {\r\n      tableData.filter((data) => {\r\n        if (pull && !data.complete===\"complete\" && data.price && data.vcolor) {\r\n         data.complete=\"Completed\"\r\n        dispatch(updatePull(data._id, data))\r\n      }\r\n      })\r\n})\r\nuseEffect(() => {\r\n  tableData.filter((data) => {\r\n    if (pull && !data.complete===\"complete\" && data.checkout) {\r\n     data.checkout=\"Checking Out\"\r\n     data.complete=\"Completed\"\r\n    dispatch(updatePull(data._id, data))  \r\n  }\r\n    \r\n  })\r\n})*/\r\n\r\n    const handleUpdate = (e) => {\r\n      const evt = e.target.value\r\n      tableData.filter((data) => {\r\n        if (evt === data._id) {\r\n        dispatch(upForm(data))\r\n      navigate(\"/1\")}\r\n      })}\r\n\r\n      const handleComp = (e) => {\r\n        const evt = e.target.value\r\n        tableData.filter((data) => {\r\n\r\n            if(evt===data._id && data.checkout===\"Returning\"){ \r\n              dispatch(deletePull(data._id))      \r\n          dispatch(createOut(data))\r\n          \r\n          }else if(evt===data._id && data.checkout!==\"Returning\"){  \r\n            dispatch(deletePull(data._id))        \r\n          dispatch(createComp(data))\r\n         \r\n          \r\n          }\r\n      })}\r\n\r\n        const handleModal = (e) => {\r\n          setModal(true);\r\n          setPullId(e.target.value)\r\n          const evt = e.target.value\r\n          tableData.filter((data) => {\r\n            if (evt === data._id) {\r\n            dispatch(upForm(data))}\r\n          })}\r\n         \r\n    return (\r\n      <tbody>\r\n           <td className=\"tdlength\">\r\n           <input type=\"text\" placeholder=\"search...\" onChange={(event)=>{\r\n           setSearchTerm(event.target.value);}}\r\n            />\r\n            &nbsp;&nbsp;&nbsp;{carlength}&nbsp;<p>cars</p>&nbsp;<p>total</p>           \r\n         </td>\r\n        {tableData.filter((data) => {\r\n             if (!on && !day) \r\n             {return data}\r\n               else if (!on) \r\n               {return data.type?.includes(\"on\")}\r\n               else if(!day) \r\n               {return data.type?.includes(\"day\")}})\r\n          .filter((data) => {\r\n          if (searchTerm === \"\") {\r\n              return data;\r\n            } else if(data.ticket?.toLowerCase().includes(searchTerm.toLowerCase()))\r\n              {return data}\r\n              else if(data.name?.toLowerCase().includes(searchTerm.toLowerCase()))\r\n              {return data}\r\n              else if(data.room?.toLowerCase().includes(searchTerm.toLowerCase()))\r\n              {return data}\r\n              else if(data.vmake?.toLowerCase().includes(searchTerm.toLowerCase()))\r\n              {return data}\r\n              else if(data.vcolor?.toLowerCase().includes(searchTerm.toLowerCase()))\r\n              {return data}\r\n              else if(data.vmodel?.toLowerCase().includes(searchTerm.toLowerCase()))\r\n              {return data}\r\n             })\r\n             .map((data) => {\r\n          return (\r\n            <tr key={data._id}>\r\n              <td>\r\n              { !data.complete && (\r\n              <button value={data._id} \r\n                onClick={handleModal}>Process</button> )} \r\n\r\n              { data.complete && (\r\n                <button value={data._id} \r\n                onClick={handleComp}>Completed</button>\r\n              )}\r\n\r\n             <button type=\"button\" className=\"\" value={data._id} onClick={handleUpdate}>Edit</button>\r\n             \r\n             <button type=\"button\" className=\"\" value={data._id} onClick={() => dispatch(deletePull(data._id)) && dispatch(deleteCar(data._id)) \r\n              && dispatch(deleteComp(data._id)) && dispatch(deleteOut(data._id))}>\r\n               Delete</button>\r\n               </td>\r\n\r\n              {columns.map(({ accessor }) => {\r\n                const tData = data[accessor] ? data[accessor] : \"\";\r\n                return <td key={accessor}>{tData}</td>;\r\n                })}\r\n               </tr>\r\n                  );\r\n                })}\r\n      </tbody>       \r\n            );\r\n  };\r\n  \r\n  export default TableBody;"]},"metadata":{},"sourceType":"module"}