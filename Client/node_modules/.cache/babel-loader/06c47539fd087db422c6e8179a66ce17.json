{"ast":null,"code":"\"use strict\";\n/*\r\n* Copyright 2013 ZXing authors\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n}); // package com.google.zxing.pdf417.decoder;\n// import com.google.zxing.NotFoundException;\n\nvar NotFoundException_1 = require(\"../../NotFoundException\"); // import com.google.zxing.ResultPoint;\n\n\nvar ResultPoint_1 = require(\"../../ResultPoint\");\n/**\r\n * @author Guenther Grau\r\n */\n\n\nvar BoundingBox =\n/** @class */\nfunction () {\n  function BoundingBox(image, topLeft, bottomLeft, topRight, bottomRight) {\n    if (image instanceof BoundingBox) {\n      this.constructor_2(image);\n    } else {\n      this.constructor_1(image, topLeft, bottomLeft, topRight, bottomRight);\n    }\n  }\n  /**\r\n   *\r\n   * @param image\r\n   * @param topLeft\r\n   * @param bottomLeft\r\n   * @param topRight\r\n   * @param bottomRight\r\n   *\r\n   * @throws NotFoundException\r\n   */\n\n\n  BoundingBox.prototype.constructor_1 = function (image, topLeft, bottomLeft, topRight, bottomRight) {\n    var leftUnspecified = topLeft == null || bottomLeft == null;\n    var rightUnspecified = topRight == null || bottomRight == null;\n\n    if (leftUnspecified && rightUnspecified) {\n      throw new NotFoundException_1.default();\n    }\n\n    if (leftUnspecified) {\n      topLeft = new ResultPoint_1.default(0, topRight.getY());\n      bottomLeft = new ResultPoint_1.default(0, bottomRight.getY());\n    } else if (rightUnspecified) {\n      topRight = new ResultPoint_1.default(image.getWidth() - 1, topLeft.getY());\n      bottomRight = new ResultPoint_1.default(image.getWidth() - 1, bottomLeft.getY());\n    }\n\n    this.image = image;\n    this.topLeft = topLeft;\n    this.bottomLeft = bottomLeft;\n    this.topRight = topRight;\n    this.bottomRight = bottomRight;\n    this.minX = Math.trunc(Math.min(topLeft.getX(), bottomLeft.getX()));\n    this.maxX = Math.trunc(Math.max(topRight.getX(), bottomRight.getX()));\n    this.minY = Math.trunc(Math.min(topLeft.getY(), topRight.getY()));\n    this.maxY = Math.trunc(Math.max(bottomLeft.getY(), bottomRight.getY()));\n  };\n\n  BoundingBox.prototype.constructor_2 = function (boundingBox) {\n    this.image = boundingBox.image;\n    this.topLeft = boundingBox.getTopLeft();\n    this.bottomLeft = boundingBox.getBottomLeft();\n    this.topRight = boundingBox.getTopRight();\n    this.bottomRight = boundingBox.getBottomRight();\n    this.minX = boundingBox.getMinX();\n    this.maxX = boundingBox.getMaxX();\n    this.minY = boundingBox.getMinY();\n    this.maxY = boundingBox.getMaxY();\n  };\n  /**\r\n   * @throws NotFoundException\r\n   */\n\n\n  BoundingBox.merge = function (leftBox, rightBox) {\n    if (leftBox == null) {\n      return rightBox;\n    }\n\n    if (rightBox == null) {\n      return leftBox;\n    }\n\n    return new BoundingBox(leftBox.image, leftBox.topLeft, leftBox.bottomLeft, rightBox.topRight, rightBox.bottomRight);\n  };\n  /**\r\n   * @throws NotFoundException\r\n   */\n\n\n  BoundingBox.prototype.addMissingRows = function (missingStartRows, missingEndRows, isLeft) {\n    var newTopLeft = this.topLeft;\n    var newBottomLeft = this.bottomLeft;\n    var newTopRight = this.topRight;\n    var newBottomRight = this.bottomRight;\n\n    if (missingStartRows > 0) {\n      var top_1 = isLeft ? this.topLeft : this.topRight;\n      var newMinY = Math.trunc(top_1.getY() - missingStartRows);\n\n      if (newMinY < 0) {\n        newMinY = 0;\n      }\n\n      var newTop = new ResultPoint_1.default(top_1.getX(), newMinY);\n\n      if (isLeft) {\n        newTopLeft = newTop;\n      } else {\n        newTopRight = newTop;\n      }\n    }\n\n    if (missingEndRows > 0) {\n      var bottom = isLeft ? this.bottomLeft : this.bottomRight;\n      var newMaxY = Math.trunc(bottom.getY() + missingEndRows);\n\n      if (newMaxY >= this.image.getHeight()) {\n        newMaxY = this.image.getHeight() - 1;\n      }\n\n      var newBottom = new ResultPoint_1.default(bottom.getX(), newMaxY);\n\n      if (isLeft) {\n        newBottomLeft = newBottom;\n      } else {\n        newBottomRight = newBottom;\n      }\n    }\n\n    return new BoundingBox(this.image, newTopLeft, newBottomLeft, newTopRight, newBottomRight);\n  };\n\n  BoundingBox.prototype.getMinX = function () {\n    return this.minX;\n  };\n\n  BoundingBox.prototype.getMaxX = function () {\n    return this.maxX;\n  };\n\n  BoundingBox.prototype.getMinY = function () {\n    return this.minY;\n  };\n\n  BoundingBox.prototype.getMaxY = function () {\n    return this.maxY;\n  };\n\n  BoundingBox.prototype.getTopLeft = function () {\n    return this.topLeft;\n  };\n\n  BoundingBox.prototype.getTopRight = function () {\n    return this.topRight;\n  };\n\n  BoundingBox.prototype.getBottomLeft = function () {\n    return this.bottomLeft;\n  };\n\n  BoundingBox.prototype.getBottomRight = function () {\n    return this.bottomRight;\n  };\n\n  return BoundingBox;\n}();\n\nexports.default = BoundingBox;","map":{"version":3,"sources":["../../../../src/core/pdf417/decoder/BoundingBox.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\r\n/*\r\n* Copyright 2013 ZXing authors\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// package com.google.zxing.pdf417.decoder;\r\n// import com.google.zxing.NotFoundException;\r\nvar NotFoundException_1 = require(\"../../NotFoundException\");\r\n// import com.google.zxing.ResultPoint;\r\nvar ResultPoint_1 = require(\"../../ResultPoint\");\r\n/**\r\n * @author Guenther Grau\r\n */\r\nvar BoundingBox = /** @class */ (function () {\r\n    function BoundingBox(image, topLeft, bottomLeft, topRight, bottomRight) {\r\n        if (image instanceof BoundingBox) {\r\n            this.constructor_2(image);\r\n        }\r\n        else {\r\n            this.constructor_1(image, topLeft, bottomLeft, topRight, bottomRight);\r\n        }\r\n    }\r\n    /**\r\n     *\r\n     * @param image\r\n     * @param topLeft\r\n     * @param bottomLeft\r\n     * @param topRight\r\n     * @param bottomRight\r\n     *\r\n     * @throws NotFoundException\r\n     */\r\n    BoundingBox.prototype.constructor_1 = function (image, topLeft, bottomLeft, topRight, bottomRight) {\r\n        var leftUnspecified = topLeft == null || bottomLeft == null;\r\n        var rightUnspecified = topRight == null || bottomRight == null;\r\n        if (leftUnspecified && rightUnspecified) {\r\n            throw new NotFoundException_1.default();\r\n        }\r\n        if (leftUnspecified) {\r\n            topLeft = new ResultPoint_1.default(0, topRight.getY());\r\n            bottomLeft = new ResultPoint_1.default(0, bottomRight.getY());\r\n        }\r\n        else if (rightUnspecified) {\r\n            topRight = new ResultPoint_1.default(image.getWidth() - 1, topLeft.getY());\r\n            bottomRight = new ResultPoint_1.default(image.getWidth() - 1, bottomLeft.getY());\r\n        }\r\n        this.image = image;\r\n        this.topLeft = topLeft;\r\n        this.bottomLeft = bottomLeft;\r\n        this.topRight = topRight;\r\n        this.bottomRight = bottomRight;\r\n        this.minX = Math.trunc(Math.min(topLeft.getX(), bottomLeft.getX()));\r\n        this.maxX = Math.trunc(Math.max(topRight.getX(), bottomRight.getX()));\r\n        this.minY = Math.trunc(Math.min(topLeft.getY(), topRight.getY()));\r\n        this.maxY = Math.trunc(Math.max(bottomLeft.getY(), bottomRight.getY()));\r\n    };\r\n    BoundingBox.prototype.constructor_2 = function (boundingBox) {\r\n        this.image = boundingBox.image;\r\n        this.topLeft = boundingBox.getTopLeft();\r\n        this.bottomLeft = boundingBox.getBottomLeft();\r\n        this.topRight = boundingBox.getTopRight();\r\n        this.bottomRight = boundingBox.getBottomRight();\r\n        this.minX = boundingBox.getMinX();\r\n        this.maxX = boundingBox.getMaxX();\r\n        this.minY = boundingBox.getMinY();\r\n        this.maxY = boundingBox.getMaxY();\r\n    };\r\n    /**\r\n     * @throws NotFoundException\r\n     */\r\n    BoundingBox.merge = function (leftBox, rightBox) {\r\n        if (leftBox == null) {\r\n            return rightBox;\r\n        }\r\n        if (rightBox == null) {\r\n            return leftBox;\r\n        }\r\n        return new BoundingBox(leftBox.image, leftBox.topLeft, leftBox.bottomLeft, rightBox.topRight, rightBox.bottomRight);\r\n    };\r\n    /**\r\n     * @throws NotFoundException\r\n     */\r\n    BoundingBox.prototype.addMissingRows = function (missingStartRows, missingEndRows, isLeft) {\r\n        var newTopLeft = this.topLeft;\r\n        var newBottomLeft = this.bottomLeft;\r\n        var newTopRight = this.topRight;\r\n        var newBottomRight = this.bottomRight;\r\n        if (missingStartRows > 0) {\r\n            var top_1 = isLeft ? this.topLeft : this.topRight;\r\n            var newMinY = Math.trunc(top_1.getY() - missingStartRows);\r\n            if (newMinY < 0) {\r\n                newMinY = 0;\r\n            }\r\n            var newTop = new ResultPoint_1.default(top_1.getX(), newMinY);\r\n            if (isLeft) {\r\n                newTopLeft = newTop;\r\n            }\r\n            else {\r\n                newTopRight = newTop;\r\n            }\r\n        }\r\n        if (missingEndRows > 0) {\r\n            var bottom = isLeft ? this.bottomLeft : this.bottomRight;\r\n            var newMaxY = Math.trunc(bottom.getY() + missingEndRows);\r\n            if (newMaxY >= this.image.getHeight()) {\r\n                newMaxY = this.image.getHeight() - 1;\r\n            }\r\n            var newBottom = new ResultPoint_1.default(bottom.getX(), newMaxY);\r\n            if (isLeft) {\r\n                newBottomLeft = newBottom;\r\n            }\r\n            else {\r\n                newBottomRight = newBottom;\r\n            }\r\n        }\r\n        return new BoundingBox(this.image, newTopLeft, newBottomLeft, newTopRight, newBottomRight);\r\n    };\r\n    BoundingBox.prototype.getMinX = function () {\r\n        return this.minX;\r\n    };\r\n    BoundingBox.prototype.getMaxX = function () {\r\n        return this.maxX;\r\n    };\r\n    BoundingBox.prototype.getMinY = function () {\r\n        return this.minY;\r\n    };\r\n    BoundingBox.prototype.getMaxY = function () {\r\n        return this.maxY;\r\n    };\r\n    BoundingBox.prototype.getTopLeft = function () {\r\n        return this.topLeft;\r\n    };\r\n    BoundingBox.prototype.getTopRight = function () {\r\n        return this.topRight;\r\n    };\r\n    BoundingBox.prototype.getBottomLeft = function () {\r\n        return this.bottomLeft;\r\n    };\r\n    BoundingBox.prototype.getBottomRight = function () {\r\n        return this.bottomRight;\r\n    };\r\n    return BoundingBox;\r\n}());\r\nexports.default = BoundingBox;\r\n//# sourceMappingURL=BoundingBox.js.map"]},"metadata":{},"sourceType":"script"}