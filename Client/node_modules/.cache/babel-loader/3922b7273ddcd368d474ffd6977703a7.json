{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import _slicedToArray from\"C:/Users/Chris/Documents/GitHub/ValetProUser/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"C:/Users/Chris/Documents/GitHub/ValetProUser/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/Chris/Documents/GitHub/ValetProUser/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useEffect,useReducer}from\"react\";import{batch,useDispatch,useSelector}from\"react-redux\";import{deleteCar}from\"../../_actions/subCars\";import{createPull}from\"../../_actions/pulls\";import Pay from\"../List/Pay\";import{upReset}from\"../../_actions/updateForm\";import{updateCar}from\"../../_actions/subCars\";import{updatePull,deletePull}from\"../../_actions/pulls\";import{createComp}from\"../../_actions/completed\";import{form}from\"react-validation/build/form\";import*as api from'../../_api';var formReducer=function formReducer(state,event){if(event.reset){return{};}return _objectSpread(_objectSpread({},state),{},_defineProperty({},event.name,event.value));};var PullsM=function PullsM(_ref){var pulldata=_ref.pulldata,pullId=_ref.pullId,setModal=_ref.setModal,tableData=_ref.tableData;var post=useSelector(function(state){return state.updateForm;});var pos=Object.values(post);useEffect(function(){var jso=JSON.stringify(post);localStorage.setItem(\"upform2\",jso);});var json=localStorage.getItem(\"pay\");var savedNotes=JSON.parse(json);var dispatch=useDispatch();var length=pos.length;var _useReducer=useReducer(formReducer,length!==0&&post._id!==1?post:savedNotes?savedNotes:{room:880,type:\"on\"}),_useReducer2=_slicedToArray(_useReducer,2),formData=_useReducer2[0],setFormData=_useReducer2[1];var handleCheckOut=function handleCheckOut(e){var evt=pullId;tableData.filter(function(data){if(evt===data._id){if(e.target.value===\"Returning\"){data.status=e.target.value;data.complete=\"Completed\";dispatch(deletePull(data._id));api.createOut(data);setModal(false);}else{data.status=e.target.value;data.complete=\"Completed\";dispatch(deletePull(data._id));api.createComp(data);setModal(false);}}});};useEffect(function(){if(formData.status!==post.status){var _id=formData._id;dispatch(updatePull(_id,formData));dispatch(upReset(post));setFormData({reset:true});setModal(false);}});var handleChange=function handleChange(event){setFormData({name:event.target.name,value:event.target.type==='checkbox'?event.target.checked:event.target.value});};var handleRoom=function handleRoom(e){var evt=pullId;tableData.filter(function(data){if(evt===data._id){data.room=e.target.value;dispatch(updatePull(data._id,formData));}});};var handleTypeChange=function handleTypeChange(){var evt=pullId;tableData.filter(function(data){if(evt===data._id&&data.type===\"ON\"){data.type=\"DAY\";data.hot=\"\";dispatch(updatePull(data._id,data));}else if(evt===data._id&&data.type===\"DAY\"){data.type=\"ON\";dispatch(updatePull(data._id,data));}});};var handleNotPaid=function handleNotPaid(e){var evt=pullId;tableData.filter(function(data){if(evt===data._id){data.complete=\"Completed\";data.hot=\"Hot\";data.status=\"Not Paid\";dispatch(deletePull(data._id));api.createComp(data);setModal(false);}});};var handleModal=function handleModal(){dispatch(upReset(post));setModal(false);};var jsont=JSON.stringify(formData);localStorage.setItem(\"pay\",jsont);return/*#__PURE__*/_jsx(\"div\",{className:\"backshadow\",onClick:handleModal,children:/*#__PURE__*/_jsxs(\"div\",{className:\"custom-modal\",onClick:function onClick(e){return e.stopPropagation();},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tickinfomain\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tickinfo\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Ticket #:\\xA0 \",pulldata.ticket]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Name:\\xA0\",pulldata.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Room:\\xA0\",pulldata.room]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Stall #:\\xA0\",pulldata.pspot]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"LP#:\\xA0\",pulldata.license]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Vehicle:\\xA0\",pulldata.vcolor,\"\\xA0\",pulldata.vmake,\"\\xA0\",pulldata.vmodel]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tickinfo\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Departure:\\xA0\",pulldata.depart]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Type:\\xA0\",pulldata.type]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Price:\\xA0\",pulldata.price]}),/*#__PURE__*/_jsxs(\"p\",{children:[pulldata.vip,\"\\xA0\",pulldata.oufront]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Notes:\\xA0\",pulldata.notes]})]})]}),formData.type===\"ON\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"bdiv\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"mbtn\",type:\"button\",name:\"status\",value:\"Checked Out\",onClick:handleCheckOut,children:\"Checking Out\"}),/*#__PURE__*/_jsx(\"button\",{className:\"mbtn\",type:\"button\",name:\"status\",value:\"Returning\",onClick:handleCheckOut,children:\"Returning\"}),/*#__PURE__*/_jsx(\"button\",{className:\"mbtn\",type:\"button\",name:\"pulls\",value:\"Pull\",onClick:handleTypeChange,children:\"Change to day use\"})]}),formData.type===\"DAY\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"bdiv\",children:[/*#__PURE__*/_jsx(Pay,_objectSpread({},{setModal:setModal,tableData:tableData,pullId:pullId})),/*#__PURE__*/_jsx(\"button\",{className:\"mbtn\",type:\"button\",name:\"pulls\",value:\"Pull\",onClick:handleTypeChange,children:\"Change to overnight\"}),/*#__PURE__*/_jsx(\"button\",{className:\"mbtn\",onClick:handleNotPaid,name:\"hot\",value:\"Not paid\",children:\"Not paid\"})]})]})});};export default PullsM;","map":{"version":3,"sources":["C:/Users/Chris/Documents/GitHub/ValetProUser/Client/src/components/Pages/PullsM.js"],"names":["React","useEffect","useReducer","batch","useDispatch","useSelector","deleteCar","createPull","Pay","upReset","updateCar","updatePull","deletePull","createComp","form","api","formReducer","state","event","reset","name","value","PullsM","pulldata","pullId","setModal","tableData","post","updateForm","pos","Object","values","jso","JSON","stringify","localStorage","setItem","json","getItem","savedNotes","parse","dispatch","length","_id","room","type","formData","setFormData","handleCheckOut","e","evt","filter","data","target","status","complete","createOut","handleChange","checked","handleRoom","handleTypeChange","hot","handleNotPaid","handleModal","jsont","stopPropagation","ticket","pspot","license","vcolor","vmake","vmodel","depart","price","vip","oufront","notes"],"mappings":"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","sourcesContent":["import React, {useEffect, useReducer} from \"react\"\r\nimport { batch, useDispatch, useSelector } from \"react-redux\";\r\nimport { deleteCar } from \"../../_actions/subCars\";\r\nimport { createPull } from \"../../_actions/pulls\";\r\nimport Pay from \"../List/Pay\";\r\nimport { upReset } from \"../../_actions/updateForm\";\r\nimport { updateCar } from \"../../_actions/subCars\";\r\nimport { updatePull, deletePull } from \"../../_actions/pulls\";\r\nimport { createComp } from \"../../_actions/completed\";\r\nimport { form } from \"react-validation/build/form\";\r\nimport * as api from '../../_api';\r\n\r\nconst formReducer = (state, event) => {\r\n\r\n    if(event.reset) {\r\n      return {\r\n      \r\n     }\r\n  }\r\n   return {\r\n       ...state,\r\n     [event.name]: event.value\r\n   }}\r\n\r\nconst PullsM = ({ pulldata, pullId, setModal, tableData}) => {\r\n\r\n    const post = useSelector( state => state.updateForm )\r\n    const pos = Object.values(post)\r\n\r\n   useEffect (() => {\r\n    const jso = JSON.stringify(post);\r\n      localStorage.setItem(\"upform2\", jso);\r\n    })\r\n  \r\n      const json = localStorage.getItem(\"pay\");\r\n  const savedNotes = JSON.parse(json);\r\n      \r\n  const dispatch = useDispatch() \r\n\r\n  const length = pos.length\r\n\r\n  const [formData, setFormData] = useReducer(formReducer,  \r\n  length!==0 && post._id!==1 ? post : savedNotes ? savedNotes : {room: 880, type: \"on\"});   \r\n\r\n\r\n  const handleCheckOut = (e) => {\r\n    const evt = pullId\r\n    tableData.filter((data) => {\r\n    if (evt === data._id) {\r\n    if(e.target.value===\"Returning\"){\r\n    data.status=e.target.value\r\n    data.complete=\"Completed\"\r\n    dispatch(deletePull(data._id))\r\n    api.createOut(data)\r\n    setModal(false)\r\n      }else{\r\n    data.status=e.target.value\r\n    data.complete=\"Completed\"\r\n    dispatch(deletePull(data._id))\r\n    api.createComp(data)\r\n    setModal(false)\r\n      }\r\n    }\r\n  })}  \r\n             \r\n            \r\n        useEffect(() => {\r\n          if(formData.status !== post.status ){\r\n            const _id = formData._id\r\n            dispatch(updatePull(_id, formData))\r\n            dispatch(upReset(post))\r\n              setFormData({reset: true}) \r\n            setModal(false)\r\n            \r\n             }\r\n         })\r\n\r\n    const handleChange = (event) => {\r\n      setFormData({\r\n        name: event.target.name,\r\n        value: event.target.type === 'checkbox' ? event.target.checked : event.target.value \r\n      });\r\n    }\r\n    const handleRoom = (e) => {\r\n      const evt = pullId\r\n      tableData.filter((data) => {\r\n      if (evt === data._id) {\r\n      data.room=e.target.value\r\n     dispatch(updatePull(data._id, formData))\r\n      }\r\n    })} \r\n            \r\n\r\n    const handleTypeChange = () => {\r\n      const evt = pullId\r\n      tableData.filter((data) => {\r\n      if (evt === data._id && data.type===\"ON\") {\r\n      data.type=\"DAY\"\r\n      data.hot=\"\"\r\n      dispatch(updatePull(data._id, data))\r\n      }else if(evt === data._id && data.type===\"DAY\") {\r\n        data.type=\"ON\"\r\n        dispatch(updatePull(data._id, data))}\r\n    })}\r\n    const handleNotPaid = (e) => {\r\n      const evt = pullId\r\n        tableData.filter((data) => {\r\n         if(evt===data._id ){ \r\n          data.complete=\"Completed\"\r\n          data.hot=\"Hot\"\r\n          data.status=\"Not Paid\"\r\n          dispatch(deletePull(data._id))      \r\n          api.createComp(data) \r\n          setModal(false)\r\n        }})}\r\n       \r\n\r\n       \r\n        const handleModal = () => {\r\n            dispatch(upReset(post))\r\n            setModal(false)\r\n        }\r\n\r\n        const jsont = JSON.stringify(formData);\r\n        localStorage.setItem(\"pay\", jsont);\r\n    \r\n        \r\n    return (\r\n        <div className='backshadow' onClick={handleModal}>\r\n            <div className='custom-modal' onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"tickinfomain\">\r\n                <div className=\"tickinfo\">\r\n                  <p>Ticket #:&nbsp; {pulldata.ticket}</p>\r\n                  <p>Name:&nbsp;{pulldata.name}</p>\r\n                  <p>Room:&nbsp;{pulldata.room}</p>\r\n                  <p>Stall #:&nbsp;{pulldata.pspot}</p>\r\n                  <p>LP#:&nbsp;{pulldata.license}</p>\r\n                  <p>Vehicle:&nbsp;{pulldata.vcolor}&nbsp;{pulldata.vmake}&nbsp;{pulldata.vmodel}</p> \r\n                </div>\r\n                <div className=\"tickinfo\">\r\n                  <p>Departure:&nbsp;{pulldata.depart}</p>\r\n                  <p>Type:&nbsp;{pulldata.type}</p>\r\n                  <p>Price:&nbsp;{pulldata.price}</p>  \r\n                  <p>{pulldata.vip}&nbsp;{pulldata.oufront}</p>\r\n                  <p>Notes:&nbsp;{pulldata.notes}</p>\r\n                </div>\r\n              </div>\r\n              \r\n                   {formData.type===\"ON\"&&(\r\n                   <div className=\"bdiv\">\r\n                <button className=\"mbtn\" type=\"button\" name=\"status\" value=\"Checked Out\" onClick={handleCheckOut}>Checking Out</button>\r\n                <button className=\"mbtn\" type=\"button\" name=\"status\" value=\"Returning\" onClick={handleCheckOut}>Returning</button>\r\n                <button className=\"mbtn\" type=\"button\"  name=\"pulls\" value=\"Pull\" onClick={handleTypeChange}>Change to day use</button>\r\n                </div>)}\r\n\r\n                  {formData.type===\"DAY\"&&(\r\n                <div className=\"bdiv\">\r\n                 { <Pay {...{setModal, tableData, pullId}}/> } \r\n                 \r\n                 <button className=\"mbtn\" type=\"button\"  name=\"pulls\" value=\"Pull\" onClick={handleTypeChange}>Change to overnight</button>\r\n                 <button className=\"mbtn\" onClick={handleNotPaid} name=\"hot\" value=\"Not paid\" >Not paid</button>\r\n                \r\n                </div>\r\n                )}\r\n\r\n                </div>  \r\n                \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PullsM;"]},"metadata":{},"sourceType":"module"}