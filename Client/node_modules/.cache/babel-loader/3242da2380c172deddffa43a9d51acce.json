{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Chris\\\\Documents\\\\GitHub\\\\ValetProUser\\\\Client\\\\src\\\\components\\\\List\\\\Body.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { batch, useDispatch, useSelector } from \"react-redux\";\nimport { deleteCar, createCar } from \"../../_actions/subCars\";\nimport { createPull, deletePull, updatePull } from \"../../_actions/pulls\";\nimport { upForm } from \"../../_actions/updateForm\";\nimport { useNavigate } from \"react-router-dom\";\nimport Button from \"./Button\";\nimport { upReset } from \"../../_actions/updateForm\";\nimport { createOut, deleteOut } from \"../../_actions/outnr\";\nimport { createComp, deleteComp } from \"../../_actions/completed\";\n\nconst TableBody = ({\n  list,\n  cars,\n  x,\n  carlength,\n  on,\n  day,\n  setTableData,\n  tableData,\n  columns,\n  setPullId,\n  setModal\n}) => {\n  _s();\n\n  const post = useSelector(state => state.updateForm);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const dispatch = useDispatch();\n  let navigate = useNavigate();\n\n  const handleDelete = Id => {\n    const newList = [...tableData];\n    const index = newList.findIndex(list => list._id === Id);\n    console.log(Id);\n    console.log(index);\n    newList.splice(index, 1);\n    setTableData(newList);\n  };\n\n  useEffect(() => {\n    tableData.filter(data => {\n      if (!data.complete && data.checkout === \"Returning\") {\n        data.complete = \"Complete\";\n        dispatch(updatePull(data._id, data));\n      }\n    });\n  });\n  useEffect(() => {\n    tableData.filter(data => {\n      if (!data.complete && data.checkout === \"Checking Out\") {\n        data.complete = \"Complete\";\n        dispatch(updatePull(data._id, data));\n      }\n    });\n  });\n  useEffect(() => {\n    tableData.filter(data => {\n      if (data.checkout === \"checkout\") {\n        data.checkout = \"Checking Out\";\n        data.complete = \"Complete\";\n        dispatch(createPull(data));\n        dispatch(deleteCar(data._id));\n      }\n    });\n  });\n  useEffect(() => {\n    tableData.filter(data => {\n      if (data.checkout === \"return\") {\n        data.complete = \"Complete\";\n        data.checkout = \"Returning\";\n        dispatch(createPull(data));\n        dispatch(deleteCar(data._id));\n      }\n    });\n  });\n  useEffect(() => {\n    tableData.filter(data => {\n      if (!data.complete && data.vcolor && data.price) {\n        data.complete = \"Complete\";\n        data.checkout = \"Paid\";\n        dispatch(createPull(data));\n        dispatch(deleteCar(data._id));\n      }\n    });\n  });\n  /*\r\n  useEffect(() => {\r\n    tableData.filter((data) => {\r\n      if (pull && !data.complete===\"complete\" && data.price && data.vcolor) {\r\n       data.complete=\"Completed\"\r\n      dispatch(updatePull(data._id, data))\r\n    }\r\n    })\r\n  })\r\n  useEffect(() => {\r\n  tableData.filter((data) => {\r\n  if (pull && !data.complete===\"complete\" && data.checkout) {\r\n   data.checkout=\"Checking Out\"\r\n   data.complete=\"Completed\"\r\n  dispatch(updatePull(data._id, data))  \r\n  }\r\n  \r\n  })\r\n  })*/\n\n  const handleUpdate = e => {\n    const evt = e.target.value;\n    tableData.filter(data => {\n      if (evt === data._id) {\n        dispatch(upForm(data));\n        navigate(\"/1\");\n      }\n    });\n  };\n\n  const handleComp = e => {\n    const evt = e.target.value;\n    tableData.filter(data => {\n      if (evt === data._id && data.checkout === \"Returning\") {\n        data.complete = \"Completed\";\n        dispatch(deletePull(data._id));\n        dispatch(createOut(data));\n      } else if (evt === data._id && data.checkout !== \"Returning\") {\n        data.complete = \"Completed\";\n        dispatch(deletePull(data._id));\n        dispatch(createComp(data));\n      }\n    });\n  };\n\n  const handleModal = e => {\n    setModal(true);\n    setPullId(e.target.value);\n    const evt = e.target.value;\n    tableData.filter(data => {\n      if (evt === data._id) {\n        dispatch(upForm(data));\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"tbody\", {\n    children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"search...\",\n          onChange: event => {\n            setSearchTerm(event.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: [carlength, \"\\xA0cars\\xA0total\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }, this), tableData.filter(data => {\n      console.log(list);\n\n      if (list === \"cars\" && data.complete) {\n        var _data$complete;\n\n        return !((_data$complete = data.complete) === null || _data$complete === void 0 ? void 0 : _data$complete.includes(\"Complete\"));\n      } else if (list === \"pulls\" && data.complete === \"Completed\") {\n        var _data$complete2;\n\n        return !((_data$complete2 = data.complete) === null || _data$complete2 === void 0 ? void 0 : _data$complete2.includes(\"Completed\"));\n      } else {\n        return data;\n      }\n    }).filter(data => {\n      if (data.checkout === \"?\") {\n        var _data$complete3;\n\n        return !((_data$complete3 = data.complete) === null || _data$complete3 === void 0 ? void 0 : _data$complete3.includes(\"?\"));\n      }\n    }).filter(data => {\n      if (!on && !day) {\n        return data;\n      } else if (!on) {\n        var _data$type;\n\n        return (_data$type = data.type) === null || _data$type === void 0 ? void 0 : _data$type.includes(\"on\");\n      } else if (!day) {\n        var _data$type2;\n\n        return (_data$type2 = data.type) === null || _data$type2 === void 0 ? void 0 : _data$type2.includes(\"day\");\n      }\n    }).filter(data => {\n      var _data$ticket, _data$name, _data$room, _data$vmake, _data$vcolor, _data$vmodel;\n\n      if (searchTerm === \"\") {\n        return data;\n      } else if ((_data$ticket = data.ticket) === null || _data$ticket === void 0 ? void 0 : _data$ticket.toLowerCase().includes(searchTerm.toLowerCase())) {\n        return data;\n      } else if ((_data$name = data.name) === null || _data$name === void 0 ? void 0 : _data$name.toLowerCase().includes(searchTerm.toLowerCase())) {\n        return data;\n      } else if ((_data$room = data.room) === null || _data$room === void 0 ? void 0 : _data$room.toLowerCase().includes(searchTerm.toLowerCase())) {\n        return data;\n      } else if ((_data$vmake = data.vmake) === null || _data$vmake === void 0 ? void 0 : _data$vmake.toLowerCase().includes(searchTerm.toLowerCase())) {\n        return data;\n      } else if ((_data$vcolor = data.vcolor) === null || _data$vcolor === void 0 ? void 0 : _data$vcolor.toLowerCase().includes(searchTerm.toLowerCase())) {\n        return data;\n      } else if ((_data$vmodel = data.vmodel) === null || _data$vmodel === void 0 ? void 0 : _data$vmodel.toLowerCase().includes(searchTerm.toLowerCase())) {\n        return data;\n      }\n    }).map(data => {\n      return /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"tdbtn\",\n          children: [!data.complete && /*#__PURE__*/_jsxDEV(\"button\", {\n            value: data._id,\n            onClick: handleModal,\n            children: \"Process\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 23\n          }, this), data.complete && /*#__PURE__*/_jsxDEV(\"button\", {\n            value: data._id,\n            onClick: handleComp,\n            children: \"Completed\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"\",\n            value: data._id,\n            onClick: handleUpdate,\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"\",\n            value: data._id,\n            onClick: () => dispatch(deletePull(data._id)) && dispatch(deleteCar(data._id)) && dispatch(deleteComp(data._id)) && dispatch(deleteOut(data._id)),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 19\n        }, this), columns.map(({\n          accessor\n        }) => {\n          const tData = data[accessor] ? data[accessor] : \"\";\n          return /*#__PURE__*/_jsxDEV(\"td\", {\n            children: tData\n          }, accessor, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 28\n          }, this);\n        })]\n      }, data._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 17\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 7\n  }, this);\n};\n\n_s(TableBody, \"M82gCxA8rgWFWXXxCxm57EJqmT4=\", false, function () {\n  return [useSelector, useDispatch, useNavigate];\n});\n\n_c = TableBody;\nexport default TableBody;\n\nvar _c;\n\n$RefreshReg$(_c, \"TableBody\");","map":{"version":3,"sources":["C:/Users/Chris/Documents/GitHub/ValetProUser/Client/src/components/List/Body.js"],"names":["React","useEffect","useState","batch","useDispatch","useSelector","deleteCar","createCar","createPull","deletePull","updatePull","upForm","useNavigate","Button","upReset","createOut","deleteOut","createComp","deleteComp","TableBody","list","cars","x","carlength","on","day","setTableData","tableData","columns","setPullId","setModal","post","state","updateForm","searchTerm","setSearchTerm","dispatch","navigate","handleDelete","Id","newList","index","findIndex","_id","console","log","splice","filter","data","complete","checkout","vcolor","price","handleUpdate","e","evt","target","value","handleComp","handleModal","event","includes","type","ticket","toLowerCase","name","room","vmake","vmodel","map","accessor","tData"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\"\r\nimport { batch, useDispatch, useSelector } from \"react-redux\";\r\nimport { deleteCar, createCar } from \"../../_actions/subCars\";\r\nimport { createPull, deletePull, updatePull } from \"../../_actions/pulls\";\r\nimport { upForm } from \"../../_actions/updateForm\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Button from \"./Button\";\r\nimport { upReset } from \"../../_actions/updateForm\";\r\nimport { createOut, deleteOut } from \"../../_actions/outnr\";\r\nimport { createComp, deleteComp } from \"../../_actions/completed\";\r\n\r\nconst TableBody = ({ list, cars, x, carlength, on, day, setTableData, tableData, columns, setPullId, setModal }) => {\r\n\r\n    const post = useSelector( state => state.updateForm )\r\n    const [searchTerm, setSearchTerm] = useState(\"\");\r\n    const dispatch = useDispatch();\r\n    let navigate = useNavigate()\r\n\r\n    const handleDelete = (Id) => {\r\n      const newList = [...tableData];\r\n      const index = newList.findIndex((list) => list._id===Id);\r\n      console.log(Id)\r\n      console.log(index)\r\n      newList.splice(index, 1);\r\n\r\n      setTableData(newList)\r\n    }\r\n   useEffect(() => {\r\n      tableData.filter((data) => {\r\n        if (!data.complete && data.checkout===\"Returning\") {\r\n          data.complete=\"Complete\"\r\n          dispatch(updatePull(data._id, data))\r\n        }      \r\n      })\r\n    }) \r\n  \r\n    useEffect(() => {\r\n      tableData.filter((data) => {\r\n        if (!data.complete && data.checkout===\"Checking Out\") {\r\n          data.complete=\"Complete\"                 \r\n          dispatch(updatePull(data._id, data))\r\n        }      \r\n      })\r\n    }) \r\n\r\n    useEffect(() => {\r\n      tableData.filter((data) => {\r\n        if (data.checkout===\"checkout\") {\r\n          data.checkout=\"Checking Out\"\r\n          data.complete=\"Complete\"\r\n         dispatch(createPull(data))\r\n          dispatch(deleteCar(data._id))  \r\n        }\r\n     })\r\n     })\r\n\r\n    useEffect(() => {\r\n      tableData.filter((data) => {\r\n        if (data.checkout===\"return\") {\r\n        data.complete=\"Complete\"\r\n        data.checkout=\"Returning\"\r\n        dispatch(createPull(data))\r\n        dispatch(deleteCar(data._id))\r\n        }\r\n      })\r\n    })\r\n\r\n    useEffect(() => {\r\n      tableData.filter((data) => {\r\n        if (!data.complete && data.vcolor && data.price  ) {  \r\n        data.complete=\"Complete\"\r\n        data.checkout=\"Paid\"\r\n        dispatch(createPull(data))\r\n        dispatch(deleteCar(data._id))\r\n        }\r\n      })\r\n    })\r\n  \r\n    /*\r\n    useEffect(() => {\r\n      tableData.filter((data) => {\r\n        if (pull && !data.complete===\"complete\" && data.price && data.vcolor) {\r\n         data.complete=\"Completed\"\r\n        dispatch(updatePull(data._id, data))\r\n      }\r\n      })\r\n})\r\nuseEffect(() => {\r\n  tableData.filter((data) => {\r\n    if (pull && !data.complete===\"complete\" && data.checkout) {\r\n     data.checkout=\"Checking Out\"\r\n     data.complete=\"Completed\"\r\n    dispatch(updatePull(data._id, data))  \r\n  }\r\n    \r\n  })\r\n})*/\r\n\r\n    const handleUpdate = (e) => {\r\n      const evt = e.target.value\r\n      tableData.filter((data) => {\r\n        if (evt === data._id) {\r\n        dispatch(upForm(data))\r\n      navigate(\"/1\")}\r\n      })}\r\n\r\n    const handleComp = (e) => {\r\n      const evt = e.target.value\r\n        tableData.filter((data) => {\r\n\r\n        if(evt===data._id && data.checkout===\"Returning\"){ \r\n          data.complete=\"Completed\"\r\n          dispatch(deletePull(data._id))      \r\n          dispatch(createOut(data))\r\n\r\n          }else if(evt===data._id && data.checkout!==\"Returning\"){  \r\n           data.complete=\"Completed\"\r\n          dispatch(deletePull(data._id))        \r\n          dispatch(createComp(data))  \r\n          \r\n          }\r\n      })}\r\n\r\n        const handleModal = (e) => {\r\n          setModal(true);\r\n          setPullId(e.target.value)\r\n          const evt = e.target.value\r\n          tableData.filter((data) => {\r\n            if (evt === data._id) {\r\n            dispatch(upForm(data))}\r\n            \r\n          })}\r\n\r\n         \r\n        \r\n         \r\n    return (\r\n      <tbody>\r\n        <tr>\r\n          <td>\r\n          <input type=\"text\" placeholder=\"search...\" onChange={(event) => {\r\n         setSearchTerm(event.target.value);}}/>\r\n         </td>\r\n         <td>\r\n             {carlength}&nbsp;cars&nbsp;total\r\n            </td>\r\n            </tr>\r\n            {tableData.filter((data) => {\r\n              console.log(list)\r\n            if (list===\"cars\" && data.complete) \r\n            { return !data.complete?.includes(\"Complete\")}\r\n            else if (list===\"pulls\" && data.complete===\"Completed\") \r\n          { return !data.complete?.includes(\"Completed\")}\r\n             else {\r\n            return data\r\n           }\r\n          })\r\n          .filter((data) => {\r\n            if(data.checkout===\"?\"){\r\n              return !data.complete?.includes(\"?\")\r\n            }\r\n          })\r\n        .filter((data) => {\r\n            if (!on && !day) { return data; }\r\n            else if (!on) { return data.type?.includes(\"on\"); }\r\n            else if (!day) { return data.type?.includes(\"day\"); }\r\n          })\r\n            .filter((data) => {\r\n              if (searchTerm === \"\") {\r\n                return data;\r\n            } else if (data.ticket?.toLowerCase().includes(searchTerm.toLowerCase())) { return data; }\r\n              else if (data.name?.toLowerCase().includes(searchTerm.toLowerCase())) { return data; }\r\n              else if (data.room?.toLowerCase().includes(searchTerm.toLowerCase())) { return data; }\r\n              else if (data.vmake?.toLowerCase().includes(searchTerm.toLowerCase())) { return data; }\r\n              else if (data.vcolor?.toLowerCase().includes(searchTerm.toLowerCase())) { return data; }\r\n              else if (data.vmodel?.toLowerCase().includes(searchTerm.toLowerCase())) { return data; }\r\n            })\r\n            .map((data) => {\r\n              return (\r\n                <tr key={data._id}>\r\n\r\n                  <td className=\"tdbtn\">\r\n\r\n                    {!data.complete && (\r\n                      <button value={data._id}\r\n                        onClick={handleModal}>Process</button>)}\r\n\r\n                    {data.complete && (\r\n                      <button value={data._id}\r\n                        onClick={handleComp}>Completed</button>\r\n                    )}\r\n\r\n                    <button type=\"button\" className=\"\" value={data._id} onClick={handleUpdate}>Edit</button>\r\n\r\n                    <button type=\"button\" className=\"\" value={data._id} onClick={() => dispatch(deletePull(data._id)) && dispatch(deleteCar(data._id))\r\n                      && dispatch(deleteComp(data._id)) && dispatch(deleteOut(data._id))}>\r\n                      Delete</button>\r\n                  </td>\r\n\r\n                  {columns.map(({ accessor }) => {\r\n                    const tData = data[accessor] ? data[accessor] : \"\";\r\n                    return <td key={accessor}>{tData}</td>;\r\n                  })}\r\n                </tr>\r\n              );\r\n            })}\r\n        </tbody>    \r\n            );\r\n  };\r\n  \r\n  export default TableBody;"]},"metadata":{},"sourceType":"module"}