{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import _slicedToArray from\"C:/Users/Chris/Documents/GitHub/ValetProUser/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect}from\"react\";import BarcodeScannerComponent from\"react-qr-barcode-scanner\";import\"./Scanner.css\";function Scanner(_ref){var setSubCar=_ref.setSubCar,setScan=_ref.setScan;var _React$useState=React.useState(\"Scan...\"),_React$useState2=_slicedToArray(_React$useState,2),data=_React$useState2[0],setData=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),torchOn=_React$useState4[0],setTorchOn=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),camErr=_React$useState6[0],setCamErr=_React$useState6[1];useEffect(function(){if(data!==\"Scan...\"){var scan2={ticket:data,type:\"ON\",price:\"$44\"};var jso=JSON.stringify(scan2);localStorage.setItem(\"scan\",jso);setSubCar(true);setScan(false);}},[data]);var handleScan=function handleScan(){setScan(false);};var handleSwitch=function handleSwitch(){setSubCar(true);setScan(false);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"backshadow3\",onClick:handleScan,children:/*#__PURE__*/_jsxs(\"div\",{className:\"custom-modal3\",onClick:function onClick(e){return e.stopPropagation();},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"scanbdiv\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"scanbtn\",onClick:function onClick(){return setTorchOn(!torchOn);},children:[\"Switch Torch \",torchOn?\"Off\":\"On\"]}),/*#__PURE__*/_jsx(\"p\",{children:camErr}),/*#__PURE__*/_jsx(\"button\",{className:\"scanbtn\",onClick:handleSwitch,children:\"Switch to Form\"})]}),/*#__PURE__*/_jsx(BarcodeScannerComponent,{width:300,height:300,torch:torchOn,onUpdate:function onUpdate(err,result){if(result)setData(result.text);else setData(\"Scan...\");},onError:function onError(error){if(error){setCamErr(\"ERROR\");}}}),/*#__PURE__*/_jsx(\"p\",{children:data})]})})});}export default Scanner;","map":{"version":3,"sources":["C:/Users/Chris/Documents/GitHub/ValetProUser/Client/src/components/Scanner/Scanner.js"],"names":["React","useEffect","BarcodeScannerComponent","Scanner","setSubCar","setScan","useState","data","setData","torchOn","setTorchOn","camErr","setCamErr","scan2","ticket","type","price","jso","JSON","stringify","localStorage","setItem","handleScan","handleSwitch","e","stopPropagation","err","result","text","error"],"mappings":"uTAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,MAAOC,CAAAA,uBAAP,KAAoC,0BAApC,CACA,MAAO,eAAP,CAEA,QAASC,CAAAA,OAAT,MAAuC,IAArBC,CAAAA,SAAqB,MAArBA,SAAqB,CAAVC,OAAU,MAAVA,OAAU,qBACbL,KAAK,CAACM,QAAN,CAAe,SAAf,CADa,oDAC9BC,IAD8B,qBACxBC,OADwB,0CAEPR,KAAK,CAACM,QAAN,CAAe,KAAf,CAFO,qDAE9BG,OAF8B,qBAErBC,UAFqB,0CAGTV,KAAK,CAACM,QAAN,CAAe,KAAf,CAHS,qDAG9BK,MAH8B,qBAGtBC,SAHsB,qBAMrCX,SAAS,CAAE,UAAM,CACf,GAAGM,IAAI,GAAG,SAAV,CAAoB,CAClB,GAAMM,CAAAA,KAAK,CAAG,CAACC,MAAM,CAACP,IAAR,CAAcQ,IAAI,CAAC,IAAnB,CAAyBC,KAAK,CAAC,KAA/B,CAAd,CACF,GAAMC,CAAAA,GAAG,CAAGC,IAAI,CAACC,SAAL,CAAeN,KAAf,CAAZ,CACEO,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA6BJ,GAA7B,EACFb,SAAS,CAAC,IAAD,CAAT,CACAC,OAAO,CAAC,KAAD,CAAP,CACC,CACA,CARM,CAQJ,CAACE,IAAD,CARI,CAAT,CAUA,GAAMe,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvBjB,OAAO,CAAC,KAAD,CAAP,CACD,CAFD,CAIA,GAAMkB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBnB,SAAS,CAAC,IAAD,CAAT,CACAC,OAAO,CAAC,KAAD,CAAP,CACD,CAHD,CAIA,mBACE,sCACA,YAAK,SAAS,CAAC,aAAf,CAA6B,OAAO,CAAEiB,UAAtC,uBACA,aAAK,SAAS,CAAC,eAAf,CAA+B,OAAO,CAAE,iBAACE,CAAD,QAAOA,CAAAA,CAAC,CAACC,eAAF,EAAP,EAAxC,wBACA,aAAK,SAAS,CAAC,UAAf,wBACA,gBAAQ,SAAS,CAAC,SAAlB,CAA4B,OAAO,CAAE,yBAAMf,CAAAA,UAAU,CAAC,CAACD,OAAF,CAAhB,EAArC,2BACkBA,OAAO,CAAG,KAAH,CAAW,IADpC,GADA,cAGE,mBAAIE,MAAJ,EAHF,cAIE,eAAQ,SAAS,CAAC,SAAlB,CAA4B,OAAO,CAAEY,YAArC,4BAJF,GADA,cAOE,KAAC,uBAAD,EACE,KAAK,CAAE,GADT,CAEE,MAAM,CAAE,GAFV,CAGE,KAAK,CAAEd,OAHT,CAIE,QAAQ,CAAE,kBAACiB,GAAD,CAAMC,MAAN,CAAiB,CACzB,GAAIA,MAAJ,CAAYnB,OAAO,CAACmB,MAAM,CAACC,IAAR,CAAP,CAAZ,IACKpB,CAAAA,OAAO,CAAC,SAAD,CAAP,CAAoB,CAN7B,CAQI,OAAO,CAAE,iBAACqB,KAAD,CAAW,CAClB,GAAIA,KAAJ,CAAU,CACTjB,SAAS,CAAC,OAAD,CAAT,CACA,CACA,CAZP,EAPF,cAqBE,mBAAIL,IAAJ,EArBF,GADA,EADA,EADF,CA8BD,CAED,cAAeJ,CAAAA,OAAf","sourcesContent":["import React, {useEffect} from \"react\";\r\nimport BarcodeScannerComponent from \"react-qr-barcode-scanner\";\r\nimport \"./Scanner.css\"\r\n\r\nfunction Scanner({setSubCar, setScan}) {\r\n  const [data, setData] = React.useState(\"Scan...\");\r\n  const [torchOn, setTorchOn] = React.useState(false);\r\n  const [camErr, setCamErr] = React.useState(false);\r\n\r\n\r\n  useEffect (() => {\r\n    if(data!==\"Scan...\"){\r\n      const scan2 = {ticket:data, type:\"ON\", price:\"$44\"}\r\n    const jso = JSON.stringify(scan2);\r\n      localStorage.setItem(\"scan\", jso);\r\n    setSubCar(true)\r\n    setScan(false)\r\n    }\r\n    }, [data])\r\n\r\n  const handleScan = () => {\r\n    setScan(false)\r\n  }\r\n\r\n  const handleSwitch = () => {\r\n    setSubCar(true) \r\n    setScan(false)\r\n  }\r\n  return (\r\n    <>\r\n    <div className=\"backshadow3\" onClick={handleScan}>\r\n    <div className=\"custom-modal3\" onClick={(e) => e.stopPropagation()} >\r\n    <div className=\"scanbdiv\">\r\n    <button className=\"scanbtn\" onClick={() => setTorchOn(!torchOn)}>\r\n        Switch Torch {torchOn ? \"Off\" : \"On\"}</button>\r\n      <p>{camErr}</p>\r\n      <button className=\"scanbtn\" onClick={handleSwitch}>Switch to Form</button>\r\n      </div>\r\n      <BarcodeScannerComponent\r\n        width={300}\r\n        height={300}\r\n        torch={torchOn}\r\n        onUpdate={(err, result) => {\r\n          if (result) setData(result.text);\r\n          else setData(\"Scan...\");}}\r\n\r\n          onError={(error) => {\r\n            if (error){\r\n             setCamErr(\"ERROR\")\r\n            }\r\n            }}\r\n      />\r\n      <p>{data}</p>\r\n     \r\n      </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Scanner;"]},"metadata":{},"sourceType":"module"}