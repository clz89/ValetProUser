{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Chris\\\\Documents\\\\GitHub\\\\ValetProUser\\\\Client\\\\src\\\\components\\\\SubCar\\\\SubCar.js\",\n    _s = $RefreshSig$();\n\nimport React, { useReducer, useState, useEffect } from 'react';\nimport './SubCar.css';\nimport { createCar, updateCar } from '../../_actions/subCars';\nimport { updatePull } from '../../_actions/pulls';\nimport { useNavigate } from 'react-router';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { upReset } from '../../_actions/updateForm';\nimport _ from 'lodash';\n\nconst formReducer = (state, event) => {\n  if (event.reset) {\n    return {\n      room: 880,\n      type: \"on\"\n    };\n  }\n\n  return { ...state,\n    [event.name]: event.value\n  };\n};\n\nfunction SubCar() {\n  _s();\n\n  const post = useSelector(state => state.updateForm);\n  const pos = Object.values(post);\n  const [formT, setFormT] = useState(false);\n  useEffect(() => {\n    const jso = JSON.stringify(post);\n    localStorage.setItem(\"upform\", jso);\n  });\n  const json = localStorage.getItem(\"formdata\");\n  const savedNotes = JSON.parse(json);\n  const dispatch = useDispatch();\n  const length = pos.length;\n  const [formData, setFormData] = useReducer(formReducer, length !== 0 && post._id !== 1 ? post : savedNotes ? savedNotes : {\n    room: 880,\n    type: \"on\"\n  });\n  let navigate = useNavigate();\n  useEffect(() => {\n    const form = {\n      room: 880,\n      type: \"on\"\n    };\n\n    const formt = _.isEqual(savedNotes, form);\n\n    if (formt === true) {\n      setFormT(false);\n      console.log(formT);\n    }\n\n    setFormT(true);\n  });\n\n  const resetForm = () => {\n    setFormData({\n      reset: true\n    });\n    window.location.reload(false);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (formData._id === post._id) {\n      const _id = formData._id;\n      dispatch(updateCar(_id, formData));\n      dispatch(updatePull(_id, formData));\n      dispatch(upReset(post));\n      setFormData({\n        reset: true\n      });\n      setTimeout(() => {\n        navigate(-1);\n      }, 100);\n    } else {\n      dispatch(createCar(formData));\n      setFormData({\n        reset: true\n      });\n    }\n  };\n\n  const handleChange = event => {\n    setFormData({\n      name: event.target.name,\n      value: event.target.type === 'checkbox' ? event.target.checked : event.target.value\n    });\n  };\n\n  const jsont = JSON.stringify(formData);\n  localStorage.setItem(\"formdata\", jsont);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"How About Them Apples\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: /*#__PURE__*/_jsxDEV(\"fieldset\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"btndiv\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"clearbtn\",\n            type: \"button\",\n            onClick: resetForm,\n            children: \"Clear\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 10\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"clearbtn\",\n            type: \"submit\",\n            onClick: handleSubmit,\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 10\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inprow\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Ticket #:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"ticket\",\n              onChange: handleChange,\n              value: formData.ticket || ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Type:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"type\",\n              onChange: handleChange,\n              value: formData.type || '',\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"--Please choose an option--\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"on\",\n                children: \"Overnight\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"day\",\n                children: \"Day use\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Price:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"price\",\n              onChange: handleChange,\n              value: formData.price || '',\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"--Please choose an option--\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"fuji\",\n                children: \"Fuji\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"jonathan\",\n                children: \"Jonathan\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"honey-crisp\",\n                children: \"Honey Crisp\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inprow\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Name:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"name\",\n              onChange: handleChange,\n              value: formData.name || ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 14\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"VIP:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              checked: formData['vip'] || false,\n              name: \"vip\",\n              onChange: handleChange,\n              type: \"checkbox\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inprow\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Room:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"room\",\n              onChange: handleChange,\n              value: formData.room || ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 14\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Retrieve at:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"retrieve\",\n              onChange: handleChange,\n              value: formData.retrieve || ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 14\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inprow\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Departure:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"depart\",\n              onChange: handleChange,\n              value: formData.depart || ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 14\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Out front:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              checked: formData['outfront'] || false,\n              name: \"outfront\",\n              onChange: handleChange,\n              type: \"checkbox\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inprow\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Vehicle make:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"vmake\",\n              onChange: handleChange,\n              value: formData.vmake || ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 14\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Notes:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"textfield\",\n              name: \"notes\",\n              onChange: handleChange,\n              value: formData.notes || ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 14\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inprow\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Vehicle color:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"vcolor\",\n              onChange: handleChange,\n              value: formData.vcolor || '',\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"--Please choose an option--\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"fuji\",\n                children: \"Fuji\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"jonathan\",\n                children: \"Jonathan\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"honey-crisp\",\n                children: \"Honey Crisp\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Parking spot:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"pspot\",\n              onChange: handleChange,\n              value: formData.pspot || ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inprow\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Vehicle model:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"vmodel\",\n              onChange: handleChange,\n              value: formData.vmodel || ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 14\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"License plate #:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"license\",\n              onChange: handleChange,\n              value: formData.license || ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 14\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SubCar, \"As7RLPeAzf0CcLg8e9Pjo1Hl2qI=\", false, function () {\n  return [useSelector, useDispatch, useNavigate];\n});\n\n_c = SubCar;\nexport default SubCar;\n\nvar _c;\n\n$RefreshReg$(_c, \"SubCar\");","map":{"version":3,"sources":["C:/Users/Chris/Documents/GitHub/ValetProUser/Client/src/components/SubCar/SubCar.js"],"names":["React","useReducer","useState","useEffect","createCar","updateCar","updatePull","useNavigate","useDispatch","useSelector","upReset","_","formReducer","state","event","reset","room","type","name","value","SubCar","post","updateForm","pos","Object","values","formT","setFormT","jso","JSON","stringify","localStorage","setItem","json","getItem","savedNotes","parse","dispatch","length","formData","setFormData","_id","navigate","form","formt","isEqual","console","log","resetForm","window","location","reload","handleSubmit","preventDefault","setTimeout","handleChange","target","checked","jsont","ticket","price","retrieve","depart","vmake","notes","vcolor","pspot","vmodel","license"],"mappings":"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","sourcesContent":["import React, { useReducer, useState, useEffect } from 'react';\r\nimport './SubCar.css';\r\nimport { createCar, updateCar } from '../../_actions/subCars';\r\nimport { updatePull } from '../../_actions/pulls';\r\n\r\nimport { useNavigate } from 'react-router';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { upReset } from '../../_actions/updateForm';\r\n\r\nimport _ from 'lodash'\r\n\r\nconst formReducer = (state, event) => {\r\n\r\n   if(event.reset) {\r\n      \r\n  return{room: 880, type: \"on\"}\r\n    \r\n }\r\n  return {\r\n      ...state,\r\n    [event.name]: event.value\r\n  }\r\n  \r\n}\r\nfunction SubCar() {\r\n\r\n  const post = useSelector( state => state.updateForm )\r\n  const pos = Object.values(post)\r\n\r\n  const [formT, setFormT] = useState(false)\r\n\r\n  useEffect (() => {\r\n    const jso = JSON.stringify(post);\r\n      localStorage.setItem(\"upform\", jso);\r\n    })\r\n      const json = localStorage.getItem(\"formdata\");\r\n  const savedNotes = JSON.parse(json);\r\n    \r\n  const dispatch = useDispatch() \r\n\r\n  const length = pos.length\r\n\r\n  const [formData, setFormData] = useReducer(formReducer,  \r\n  length!==0 && post._id!==1 ? post : savedNotes ? savedNotes : {room: 880, type: \"on\"});\r\n    \r\n  let navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const form = { room: 880, type: \"on\" }\r\n    const formt = _.isEqual(savedNotes, form)\r\n     if (formt===true) {\r\n      setFormT(false)\r\n      console.log(formT)\r\n    }\r\n    setFormT(true)\r\n    \r\n  })\r\n\r\n    const resetForm = () => {\r\n       setFormData({reset: true})\r\n       window.location.reload(false);\r\n    }\r\n  const handleSubmit = (event ) => {\r\n    event.preventDefault();\r\n      if (formData._id === post._id){\r\n      const _id = formData._id\r\n      dispatch(updateCar(_id, formData))\r\n      dispatch(updatePull(_id, formData))\r\n      dispatch(upReset(post))\r\n      setFormData({reset: true})\r\n      setTimeout(() => {\r\n      navigate(-1) }, 100)\r\n      }else{\r\n      dispatch(createCar(formData))\r\n      setFormData({reset: true})}\r\n       }\r\n    \r\n      const handleChange = event => {\r\n        setFormData({\r\n          name: event.target.name,\r\n          value: event.target.type === 'checkbox' ? event.target.checked : event.target.value\r\n        });\r\n        };\r\n        const jsont = JSON.stringify(formData);\r\n        localStorage.setItem(\"formdata\", jsont);\r\n\r\n   return (\r\n\r\n    <div className=\"main\">\r\n      <h1>How About Them Apples</h1>\r\n      <form >\r\n        <fieldset >\r\n        <div className=\"btndiv\">\r\n         <button className='clearbtn' type=\"button\" onClick={resetForm} >Clear</button>\r\n         <button className=\"clearbtn\" type=\"submit\" onClick={handleSubmit} >Submit</button>\r\n         </div>\r\n         <div className='inprow'>\r\n          <label>\r\n            <p>Ticket #:</p>\r\n            <input name=\"ticket\" onChange={handleChange} value={formData.ticket || ''} />\r\n          </label>\r\n          <label>\r\n            <p>Type:</p>\r\n            <select name=\"type\" onChange={handleChange} value={formData.type || ''}>\r\n                <option value=\"\">--Please choose an option--</option>\r\n                <option value=\"on\">Overnight</option>\r\n                <option value=\"day\">Day use</option>\r\n            </select>\r\n          </label>\r\n          <label>\r\n            <p>Price:</p>\r\n            <select name=\"price\" onChange={handleChange} value={formData.price || ''}>\r\n                <option value=\"\">--Please choose an option--</option>\r\n                <option value=\"fuji\">Fuji</option>\r\n                <option value=\"jonathan\">Jonathan</option>\r\n                <option value=\"honey-crisp\">Honey Crisp</option>\r\n            </select>\r\n          </label>\r\n          </div>\r\n          <div className='inprow'>\r\n        <label>\r\n             <p>Name:</p>\r\n             <input name=\"name\" onChange={handleChange} value={formData.name || ''} />\r\n          </label>\r\n          <label>\r\n            <p>VIP:</p>\r\n            <input\r\n              checked={formData['vip'] || false}\r\n              name=\"vip\"\r\n              onChange={handleChange}\r\n              type=\"checkbox\"\r\n            />\r\n          </label>\r\n          </div>\r\n          <div className='inprow'>\r\n        <label>\r\n             <p>Room:</p>\r\n             <input name=\"room\" onChange={handleChange} value={formData.room || ''} />\r\n          </label>\r\n          <label>\r\n             <p>Retrieve at:</p>\r\n             <input name=\"retrieve\" onChange={handleChange} value={formData.retrieve || ''} />\r\n          </label>\r\n          </div>\r\n          <div className='inprow'>\r\n        <label>\r\n             <p>Departure:</p>\r\n             <input name=\"depart\" onChange={handleChange} value={formData.depart || ''} />\r\n          </label>\r\n          <label>\r\n            <p>Out front:</p>\r\n            <input\r\n              checked={formData['outfront'] || false}\r\n              name=\"outfront\"\r\n              onChange={handleChange}\r\n              type=\"checkbox\"\r\n            />\r\n          </label>\r\n          </div>\r\n          <div className='inprow'>\r\n          <label>\r\n             <p>Vehicle make:</p>\r\n             <input name=\"vmake\" onChange={handleChange} value={formData.vmake || ''} />\r\n          </label>\r\n          <label>\r\n             <p>Notes:</p>\r\n             <input type=\"textfield\" name=\"notes\" onChange={handleChange} value={formData.notes || ''} />\r\n          </label>\r\n          </div>\r\n          <div className='inprow'>\r\n          <label>\r\n            <p>Vehicle color:</p>\r\n            <select name=\"vcolor\" onChange={handleChange} value={formData.vcolor || ''}>\r\n                <option value=\"\">--Please choose an option--</option>\r\n                <option value=\"fuji\">Fuji</option>\r\n                <option value=\"jonathan\">Jonathan</option>\r\n                <option value=\"honey-crisp\">Honey Crisp</option>\r\n            </select>\r\n            </label>\r\n            <label>\r\n            <p>Parking spot:</p>\r\n            <input name=\"pspot\" onChange={handleChange} value={formData.pspot || ''} />\r\n          </label>\r\n          </div>\r\n          <div className='inprow'>\r\n          <label>\r\n             <p>Vehicle model:</p>\r\n             <input name=\"vmodel\" onChange={handleChange} value={formData.vmodel || ''} />\r\n          </label>\r\n          <label>\r\n             <p>License plate #:</p>\r\n             <input name=\"license\" onChange={handleChange} value={formData.license || ''} />\r\n          </label>\r\n          </div>\r\n        </fieldset>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SubCar;"]},"metadata":{},"sourceType":"module"}