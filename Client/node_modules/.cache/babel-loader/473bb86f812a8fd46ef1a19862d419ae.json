{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"C:/Users/Chris/Documents/GitHub/ValetProUser/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"C:/Users/Chris/Documents/GitHub/ValetProUser/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/Chris/Documents/GitHub/ValetProUser/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useReducer,useState,useEffect}from'react';import{createCar,updateCar}from'../../_actions/subCars';import{updatePull}from'../../_actions/pulls';import{useDispatch,useSelector}from'react-redux';import{upReset}from'../../_actions/updateForm';var formReducer=function formReducer(state,event){if(event.reset){return{};}return _objectSpread(_objectSpread({},state),{},_defineProperty({},event.name,event.value));};function Pay(_ref){var pullId=_ref.pullId,setModal=_ref.setModal;var post=useSelector(function(state){return state.updateForm;});var pos=Object.values(post);useEffect(function(){var jso=JSON.stringify(post);localStorage.setItem(\"upform2\",jso);});var json=localStorage.getItem(\"pay\");var savedNotes=JSON.parse(json);var dispatch=useDispatch();var length=pos.length;var _useReducer=useReducer(formReducer,length!==0&&post._id!==1?post:savedNotes?savedNotes:{room:880,type:\"on\"}),_useReducer2=_slicedToArray(_useReducer,2),formData=_useReducer2[0],setFormData=_useReducer2[1];var handleChange=function handleChange(event){if(formData._id===post._id){setFormData({name:event.target.name,value:event.target.type==='checkbox'?event.target.checked:event.target.value});}};var handleSubmit=function handleSubmit(e){e.preventDefault();if(!formData.complete&&formData.price&&formData.payment){var _id=formData._id;dispatch(updateCar(_id,formData));dispatch(updatePull(_id,formData));dispatch(upReset(post));setFormData({reset:true});setModal(false);}};var jsont=JSON.stringify(formData);localStorage.setItem(\"pay\",jsont);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{className:\"pay\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Pay Ticket\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"button\",name:\"price\",value:formData.price||''})}),/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"button\",name:\"price\",value:\"$20\",onClick:handleChange})}),/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"button\",name:\"price\",value:\"$10\",onClick:handleChange})}),/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"button\",name:\"price\",value:\"$7\",onClick:handleChange})}),/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"button\",name:\"price\",value:\"$44\",onClick:handleChange})})]}),pullId,/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"button\",name:\"payment\",value:formData.payment||'payment'})}),/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"button\",name:\"payment\",value:\"Cash\",onClick:handleChange})}),/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"button\",name:\"payment\",value:\"CreditCard\",onClick:handleChange})}),/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"button\",name:\"payment\",value:\"FrontDesk\",onClick:handleChange})}),/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"button\",name:\"payment\",value:\"Bitcoin\",onClick:handleChange})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bdiv\",children:/*#__PURE__*/_jsx(\"button\",{className:\"mbtn\",type:\"submit\",onClick:handleSubmit,children:\"Submit\"})})]})});};export default Pay;","map":{"version":3,"sources":["C:/Users/Chris/Documents/GitHub/ValetProUser/Client/src/components/List/Pay.js"],"names":["React","useReducer","useState","useEffect","createCar","updateCar","updatePull","useDispatch","useSelector","upReset","formReducer","state","event","reset","name","value","Pay","pullId","setModal","post","updateForm","pos","Object","values","jso","JSON","stringify","localStorage","setItem","json","getItem","savedNotes","parse","dispatch","length","_id","room","type","formData","setFormData","handleChange","target","checked","handleSubmit","e","preventDefault","complete","price","payment","jsont"],"mappings":"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","sourcesContent":["import React, { useReducer, useState, useEffect } from 'react';\r\nimport { createCar, updateCar } from '../../_actions/subCars';\r\nimport { updatePull } from '../../_actions/pulls';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { upReset } from '../../_actions/updateForm';\r\nconst formReducer = (state, event) => {\r\n\r\n   if(event.reset) {\r\n     return {\r\n     \r\n    }\r\n }\r\n  return {\r\n      ...state,\r\n    [event.name]: event.value\r\n  }\r\n  \r\n}\r\nfunction Pay({ pullId, setModal}) {\r\n\r\n  const post = useSelector( state => state.updateForm )\r\n  const pos = Object.values(post)\r\n  \r\n  useEffect (() => {\r\n    const jso = JSON.stringify(post);\r\n      localStorage.setItem(\"upform2\", jso);\r\n    })\r\n  \r\n      const json = localStorage.getItem(\"pay\");\r\n  const savedNotes = JSON.parse(json);\r\n      \r\n  const dispatch = useDispatch() \r\n\r\n  const length = pos.length\r\n\r\n  const [formData, setFormData] = useReducer(formReducer,  \r\n  length!==0 && post._id!==1 ? post : savedNotes ? savedNotes : {room: 880, type: \"on\"});\r\n\r\n      const handleChange = (event) => {     \r\n        if(formData._id === post._id){     \r\n          setFormData({\r\n            name: event.target.name,\r\n            value: event.target.type === 'checkbox' ? event.target.checked : event.target.value\r\n          })}}; \r\n\r\n      const handleSubmit = (e) => {\r\n          e.preventDefault();\r\n        if (!formData.complete && formData.price && formData.payment){\r\n          const _id = formData._id    \r\n          dispatch(updateCar(_id, formData))\r\n          dispatch(updatePull(_id, formData))\r\n          dispatch(upReset(post))\r\n          setFormData({reset: true}) \r\n          setModal(false)   } \r\n        }\r\n    \r\n        const jsont = JSON.stringify(formData);\r\n        localStorage.setItem(\"pay\", jsont);\r\n                         \r\n    return (\r\n   <div>\r\n    <form className=\"pay\">\r\n        <p>Pay Ticket</p>\r\n        \r\n        <div >\r\n            <label>\r\n                <input type=\"button\" name=\"price\" value={formData.price || ''} />\r\n            </label>\r\n            <label>\r\n                <input type=\"button\" name=\"price\" value=\"$20\" onClick={handleChange} />\r\n            </label>\r\n            <label>\r\n                <input type=\"button\" name=\"price\" value=\"$10\" onClick={handleChange} />\r\n            </label>\r\n            <label>\r\n                <input type=\"button\" name=\"price\" value=\"$7\" onClick={handleChange} />\r\n            </label>\r\n            <label>\r\n                <input type=\"button\" name=\"price\" value=\"$44\" onClick={handleChange} />\r\n            </label>\r\n        </div>\r\n        {pullId}\r\n        <div>\r\n            <label>\r\n                <input type=\"button\" name=\"payment\" value={formData.payment || 'payment'} />\r\n            </label>\r\n            <label>\r\n                <input type=\"button\" name=\"payment\" value=\"Cash\" onClick={handleChange} />\r\n            </label>\r\n            <label>\r\n                <input type=\"button\" name=\"payment\" value=\"CreditCard\" onClick={handleChange} />\r\n            </label>\r\n            <label>\r\n                <input type=\"button\" name=\"payment\" value=\"FrontDesk\" onClick={handleChange} />\r\n            </label>\r\n            <label>\r\n                <input type=\"button\" name=\"payment\" value=\"Bitcoin\" onClick={handleChange} />\r\n            </label>\r\n        </div>\r\n        <div className='bdiv'>\r\n        <button  className=\"mbtn\"  type=\"submit\"  onClick={handleSubmit} >Submit</button>\r\n        </div>\r\n        </form>\r\n    </div>\r\n     )};\r\nexport default Pay;"]},"metadata":{},"sourceType":"module"}