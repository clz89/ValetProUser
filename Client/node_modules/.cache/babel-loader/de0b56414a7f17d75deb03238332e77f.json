{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import _objectSpread from\"C:/Users/Chris/Documents/GitHub/ValetProUser/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"C:/Users/Chris/Documents/GitHub/ValetProUser/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from\"react\";import TableBody from\"./Body\";import TableHead from\"./Head\";import SubCar from\"../SubCar/SubCar\";import Modal from\"./Modal\";import\"./List.css\";import{useDispatch,batch}from'react-redux';import{createPull,updatePull}from\"../../_actions/pulls\";import{deleteCar}from\"../../_actions/subCars\";import Scanner from\"../Scanner/Scanner\";var List=function List(_ref){var windowSize=_ref.windowSize,formT=_ref.formT,scan=_ref.scan,setScan=_ref.setScan,setFormT=_ref.setFormT,setSubCar=_ref.setSubCar,subcar=_ref.subcar,PullsM=_ref.PullsM,CarsM=_ref.CarsM,list=_ref.list,posts=_ref.posts,x=_ref.x;var dispatch=useDispatch();useEffect(function(){dispatch(x);},[dispatch]);var sortedData=posts.sort(function(a,b){var dateAInMillis=new Date(a.createdAt).getTime();var dateBInMillis=new Date(b.createdAt).getTime();return dateBInMillis-dateAInMillis;});var json=localStorage.getItem(\"states2\");var states=JSON.parse(json);var _useState=useState(states?states.accessor:\"createdAt\"),_useState2=_slicedToArray(_useState,2),sortField=_useState2[0],setSortField=_useState2[1];var _useState3=useState(states?states.sortOrder:\"desc\"),_useState4=_slicedToArray(_useState3,2),order=_useState4[0],setOrder=_useState4[1];var _useState5=useState({vcolor:\"\",vmake:\"\"}),_useState6=_slicedToArray(_useState5,2),vehicle=_useState6[0],setVehicle=_useState6[1];var sorted=posts.sort(function(a,b){var _a$sortField,_b$sortField;if(a[sortField]===null)return 1;if(b[sortField]===null)return-1;if(a[sortField]===null&&b[sortField]===null)return 0;return((_a$sortField=a[sortField])===null||_a$sortField===void 0?void 0:_a$sortField.toString().localeCompare((_b$sortField=b[sortField])===null||_b$sortField===void 0?void 0:_b$sortField.toString(),\"en\",{numeric:true}))*(order===\"asc\"?1:-1);});var _useState7=useState(sorted?sorted:posts),_useState8=_slicedToArray(_useState7,2),tableData=_useState8[0],setTableData=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),on=_useState10[0],setOn=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),day=_useState12[0],setDay=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),modal=_useState14[0],setModal=_useState14[1];var _useState15=useState(),_useState16=_slicedToArray(_useState15,2),pullId=_useState16[0],setPullId=_useState16[1];var _useState17=useState(tableData.length),_useState18=_slicedToArray(_useState17,2),carlength=_useState18[0],setCarLength=_useState18[1];useEffect(function(){setCarLength(tableData.length);},[tableData]);useEffect(function(){var jsont=JSON.stringify(posts);localStorage.setItem(\"posts\",jsont);});useEffect(function(){var sorted=posts.sort(function(a,b){var _a$sortField2,_b$sortField2;if(a[sortField]===null)return 1;if(b[sortField]===null)return-1;if(a[sortField]===null&&b[sortField]===null)return 0;return((_a$sortField2=a[sortField])===null||_a$sortField2===void 0?void 0:_a$sortField2.toString().localeCompare((_b$sortField2=b[sortField])===null||_b$sortField2===void 0?void 0:_b$sortField2.toString(),\"en\",{numeric:true}))*(order===\"asc\"?1:-1);});setTableData(sorted);},[posts]);var columns=[{label:\"Type:\",accessor:\"type\",sortable:true},{label:\"Ticket #:\",accessor:\"ticket\",sortable:true},{label:\"Name:\",accessor:\"name\",sortable:true},{label:\"Room:\",accessor:\"room\",sortable:true},{label:\"Depart:\",accessor:\"depart\",sortable:true},{label:\"Vehicle:\",accessor:\"vehicle\",sortable:true},{label:\"Vehicle model:\",accessor:\"vmodel\",sortable:true},{label:\"VIP:\",accessor:\"vip\",sortable:true},{label:\"OutFront:\",accessor:\"outfront\",sortable:true},{label:\"Notes:\",accessor:\"notes\",sortable:true},{label:\"Stall:\",accessor:\"pspot\",sortable:true},{label:\"LP#:\",accessor:\"license\",sortable:true},{label:\"Hot:\",accessor:\"hot\",sortable:true},{label:\"Price:\",accessor:\"price\",sortable:true},{label:\"Payment:\",accessor:\"payment\",sortable:true},{label:\"Status:\",accessor:\"status\",sortable:true},{label:\"Complete:\",accessor:\"complete\",sortable:true},{label:\"Issued:\",accessor:\"createdAt\",sortable:true},{label:\"Id:\",accessor:\"_id\",sortable:true}];var columnMobile=[{label:\"Type:\",accessor:\"type\",sortable:true},{label:\"Ticket #:\",accessor:\"ticket\",sortable:true},{label:\"Name:\",accessor:\"name\",sortable:true},{label:\"Room:\",accessor:\"room\",sortable:true},{label:\"Depart:\",accessor:\"depart\",sortable:true},{label:\"Vehicle:\",accessor:\"vehicle\",sortable:true},{label:\"Vehicle model:\",accessor:\"vmodel\",sortable:true},{label:\"VIP:\",accessor:\"vip\",sortable:true},{label:\"OutFront:\",accessor:\"outfront\",sortable:true},{label:\"Notes:\",accessor:\"notes\",sortable:true},{label:\"Stall:\",accessor:\"pspot\",sortable:true},{label:\"LP#:\",accessor:\"license\",sortable:true},{label:\"Hot:\",accessor:\"hot\",sortable:true},{label:\"Price:\",accessor:\"price\",sortable:true},{label:\"Payment:\",accessor:\"payment\",sortable:true},{label:\"Status:\",accessor:\"status\",sortable:true},{label:\"Complete:\",accessor:\"complete\",sortable:true},{label:\"Issued:\",accessor:\"createdAt\",sortable:true}];useEffect(function(){if(carlength!==undefined){var jsont=JSON.stringify(carlength);localStorage.setItem(\"carlength\",jsont);}});return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"table\",{className:\"table_container\",children:[scan&&/*#__PURE__*/_jsx(Scanner,_objectSpread({setScan:setScan},{setSubCar:setSubCar,setScan:setScan})),subcar&&/*#__PURE__*/_jsx(SubCar,_objectSpread({setSubCar:setSubCar},{vehicle:vehicle,setVehicle:setVehicle,scan:scan,setScan:setScan,setFormT:setFormT,x:x,list:list,tableData:tableData,setTableData:setTableData,posts:posts,setSubCar:setSubCar})),modal===true&&/*#__PURE__*/_jsx(Modal,_objectSpread({setModal:setModal},{carlength:carlength,setModal:setModal,tableData:tableData,setPullId:setPullId,pullId:pullId,PullsM:PullsM,CarsM:CarsM})),windowSize.innerWidth>\"1000\"&&/*#__PURE__*/_jsx(TableHead,_objectSpread({},{states:states,on:on,day:day,setDay:setDay,setOn:setOn,columns:columns,tableData:tableData,setTableData:setTableData})),/*#__PURE__*/_jsx(TableBody,_objectSpread({},{windowSize:windowSize,vehicle:vehicle,setVehicle:setVehicle,setFormT:setFormT,formT:formT,scan:scan,setScan:setScan,sorted:sorted,setSubCar:setSubCar,list:list,carlength:carlength,x:x,setPullId:setPullId,setModal:setModal,on:on,day:day,columns:columns,columnMobile:columnMobile,setTableData:setTableData,tableData:tableData,posts:posts}))]})});};export default List;","map":{"version":3,"sources":["C:/Users/Chris/Documents/GitHub/ValetProUser/Client/src/components/List/List.js"],"names":["useState","useEffect","TableBody","TableHead","SubCar","Modal","useDispatch","batch","createPull","updatePull","deleteCar","Scanner","List","windowSize","formT","scan","setScan","setFormT","setSubCar","subcar","PullsM","CarsM","list","posts","x","dispatch","sortedData","sort","a","b","dateAInMillis","Date","createdAt","getTime","dateBInMillis","json","localStorage","getItem","states","JSON","parse","accessor","sortField","setSortField","sortOrder","order","setOrder","vcolor","vmake","vehicle","setVehicle","sorted","toString","localeCompare","numeric","tableData","setTableData","on","setOn","day","setDay","modal","setModal","pullId","setPullId","length","carlength","setCarLength","jsont","stringify","setItem","columns","label","sortable","columnMobile","undefined","innerWidth"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\r\n\r\nimport TableBody from \"./Body\";\r\nimport TableHead from \"./Head\";\r\nimport SubCar from \"../SubCar/SubCar\";\r\nimport  Modal  from \"./Modal\";\r\nimport \"./List.css\"\r\nimport { useDispatch, batch } from 'react-redux';\r\nimport { createPull, updatePull } from \"../../_actions/pulls\";\r\nimport { deleteCar } from \"../../_actions/subCars\";\r\nimport Scanner from \"../Scanner/Scanner\";\r\n\r\nconst List = ({ windowSize, formT, scan, setScan, setFormT, setSubCar, subcar, PullsM, CarsM,  list, posts, x}) => {\r\n\r\n  const dispatch = useDispatch();\r\n \r\n  useEffect(() => {\r\n  dispatch(x);\r\n  }, [ dispatch])\r\n  \r\n  const sortedData = posts.sort((a, b) => {\r\n    const dateAInMillis = (new Date(a.createdAt)).getTime();\r\n    const dateBInMillis = (new Date(b.createdAt)).getTime();\r\n    \r\n    return dateBInMillis - dateAInMillis;})\r\n\r\n    const json = localStorage.getItem(\"states2\");\r\n  const states = JSON.parse(json);\r\n\r\n    const [sortField, setSortField] = useState(states ? states.accessor : \"createdAt\");\r\n    const [order, setOrder] = useState(states ? states.sortOrder : \"desc\");\r\n    const [vehicle, setVehicle] = useState({vcolor:\"\", vmake:\"\"})\r\n\r\n    \r\n        const sorted = posts.sort((a, b,) => {\r\n          if (a[sortField] === null) return 1;\r\n          if (b[sortField] === null) return -1;\r\n          if (a[sortField] === null && b[sortField] === null) return 0;\r\n          return (\r\n            a[sortField]?.toString().localeCompare(b[sortField]?.toString(), \"en\", {\r\n              numeric: true,\r\n            }) * (order === \"asc\" ? 1 : -1)\r\n          );\r\n        });\r\n        \r\n      \r\n    \r\n\r\nconst [tableData, setTableData] = useState(sorted ? sorted : posts);\r\nconst [on, setOn] = useState(false) ;\r\nconst [day, setDay] = useState(false) ;\r\nconst [modal, setModal] = useState(false);\r\nconst [pullId, setPullId] = useState()\r\nconst [carlength, setCarLength] = useState(tableData.length)\r\n\r\nuseEffect(()=>{\r\n  setCarLength(tableData.length)\r\n}, [tableData])\r\n\r\n  useEffect(()=> {\r\n    const jsont = JSON.stringify(posts);\r\n      localStorage.setItem(\"posts\", jsont);\r\n  })\r\n  \r\n  \r\n  useEffect(()=> { \r\n    const sorted = posts.sort((a, b,) => {\r\n      if (a[sortField] === null) return 1;\r\n      if (b[sortField] === null) return -1;\r\n      if (a[sortField] === null && b[sortField] === null) return 0;\r\n      return (\r\n        a[sortField]?.toString().localeCompare(b[sortField]?.toString(), \"en\", {\r\n          numeric: true,\r\n        }) * (order === \"asc\" ? 1 : -1)\r\n      );\r\n    });\r\n      setTableData(sorted)\r\n\r\n }, [posts] )\r\n\r\n\r\n \r\n  const columns = [ \r\n    { label: \"Type:\", accessor: \"type\", sortable: true },\r\n    { label: \"Ticket #:\", accessor: \"ticket\", sortable: true },\r\n    { label: \"Name:\", accessor: \"name\", sortable: true },\r\n    { label: \"Room:\", accessor: \"room\", sortable: true },\r\n    { label: \"Depart:\", accessor: \"depart\", sortable: true },\r\n    { label: \"Vehicle:\", accessor: \"vehicle\", sortable: true },\r\n    { label: \"Vehicle model:\", accessor: \"vmodel\", sortable: true },\r\n    { label: \"VIP:\", accessor: \"vip\", sortable: true },\r\n    { label: \"OutFront:\", accessor: \"outfront\", sortable: true },\r\n    { label: \"Notes:\", accessor: \"notes\", sortable: true },\r\n    { label: \"Stall:\", accessor: \"pspot\", sortable: true },\r\n    { label: \"LP#:\", accessor: \"license\", sortable: true },\r\n    { label: \"Hot:\", accessor: \"hot\", sortable: true },\r\n    { label: \"Price:\", accessor: \"price\", sortable: true },\r\n    { label: \"Payment:\", accessor: \"payment\", sortable: true },\r\n    { label: \"Status:\", accessor: \"status\", sortable: true },\r\n    { label: \"Complete:\", accessor: \"complete\", sortable: true },\r\n    { label: \"Issued:\", accessor: \"createdAt\", sortable: true },\r\n    { label: \"Id:\", accessor: \"_id\", sortable: true },\r\n\r\n  ];\r\n  const columnMobile = [ \r\n    { label: \"Type:\", accessor: \"type\", sortable: true },\r\n    { label: \"Ticket #:\", accessor: \"ticket\", sortable: true },\r\n    { label: \"Name:\", accessor: \"name\", sortable: true },\r\n    { label: \"Room:\", accessor: \"room\", sortable: true },\r\n    { label: \"Depart:\", accessor: \"depart\", sortable: true },\r\n    { label: \"Vehicle:\", accessor: \"vehicle\", sortable: true },\r\n    { label: \"Vehicle model:\", accessor: \"vmodel\", sortable: true },\r\n    { label: \"VIP:\", accessor: \"vip\", sortable: true },\r\n    { label: \"OutFront:\", accessor: \"outfront\", sortable: true },\r\n    { label: \"Notes:\", accessor: \"notes\", sortable: true },\r\n    { label: \"Stall:\", accessor: \"pspot\", sortable: true },\r\n    { label: \"LP#:\", accessor: \"license\", sortable: true },\r\n    { label: \"Hot:\", accessor: \"hot\", sortable: true },\r\n    { label: \"Price:\", accessor: \"price\", sortable: true },\r\n    { label: \"Payment:\", accessor: \"payment\", sortable: true },\r\n    { label: \"Status:\", accessor: \"status\", sortable: true },\r\n    { label: \"Complete:\", accessor: \"complete\", sortable: true },\r\n    { label: \"Issued:\", accessor: \"createdAt\", sortable: true },\r\n\r\n  ];\r\n\r\n    useEffect(()=> {\r\n    \r\n\r\n        if(carlength!==undefined){\r\n          const jsont = JSON.stringify(carlength);\r\n          localStorage.setItem(\"carlength\", jsont);}\r\n      })\r\n\r\n  return (\r\n    <>\r\n    \r\n      <table className=\"table_container\">\r\n      {scan &&(<Scanner setScan={setScan} {...{setSubCar, setScan, }}/>)}\r\n\r\n        {subcar &&(<SubCar setSubCar={setSubCar} {...{vehicle, setVehicle, scan, setScan, setFormT, x, list, tableData, setTableData, posts, setSubCar}}/>)}\r\n        {modal===true&&(\r\n        <Modal setModal={setModal}  {...{ carlength, setModal, tableData, setPullId, pullId, PullsM, CarsM}}/>)}\r\n\r\n         {windowSize.innerWidth > \"1000\" &&(<TableHead {...{ states, on, day, setDay, setOn, columns, tableData, \r\n         setTableData}} />)}\r\n        \r\n       <TableBody  {...{ windowSize, vehicle, setVehicle, setFormT, formT, scan, setScan, \r\n        sorted, setSubCar, list, carlength, x, setPullId, setModal, on, day, columns, columnMobile, setTableData, tableData, \r\n        posts }} />\r\n      \r\n      </table>\r\n      \r\n    </>\r\n  );\r\n};\r\n\r\nexport default List;"]},"metadata":{},"sourceType":"module"}