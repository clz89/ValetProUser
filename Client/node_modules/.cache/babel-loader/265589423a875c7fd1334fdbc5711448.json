{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"C:/Users/Chris/Documents/GitHub/ValetProUser/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"C:/Users/Chris/Documents/GitHub/ValetProUser/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/Chris/Documents/GitHub/ValetProUser/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useReducer,useState,useEffect}from'react';import'./SubCar.css';import{createCar,updateCar}from'../../_actions/subCars';import{updatePull}from'../../_actions/pulls';import{useNavigate}from'react-router';import{useDispatch,useSelector}from'react-redux';import{upReset}from'../../_actions/updateForm';import _ from'lodash';var formReducer=function formReducer(state,event){if(event.reset){return{room:880,type:\"on\"};}return _objectSpread(_objectSpread({},state),{},_defineProperty({},event.name,event.value));};function SubCar(_ref){var formT=_ref.formT,setFormT=_ref.setFormT;var post=useSelector(function(state){return state.updateForm;});var pos=Object.values(post);useEffect(function(){var jso=JSON.stringify(post);localStorage.setItem(\"upform\",jso);});var json=localStorage.getItem(\"formdata\");var savedNotes=JSON.parse(json);var dispatch=useDispatch();var length=pos.length;var _useReducer=useReducer(formReducer,length!==0&&post._id!==1?post:savedNotes?savedNotes:{room:880,type:\"on\"}),_useReducer2=_slicedToArray(_useReducer,2),formData=_useReducer2[0],setFormData=_useReducer2[1];var navigate=useNavigate();/*const form = {room: 880, type: \"on\"}\r\n   let o = Object.fromEntries(Object.entries(savedNotes).filter(([_, v]) => v !== \"\"));\r\n   const uptrue = _.isEqual(post, o)\r\n   const formt = _.isEqual(savedNotes, form)\r\n\r\n  useEffect(() => {\r\n     if (uptrue)  {  \r\n       dispatch(upReset(post))\r\n      const jsont = JSON.stringify(form);\r\n    localStorage.setItem(\"formdata\", jsont);\r\n     setFormT(false);\r\n      console.log(formT)\r\n    }else if (formt){\r\n      setFormT(false)\r\n      console.log(formT)\r\n    }else{\r\n    setFormT(true)\r\n    console.log(formT)\r\n    console.log(o)}\r\n\r\n  },[setFormT, formT])*/var resetForm=function resetForm(){setFormData({reset:true});};var handleSubmit=function handleSubmit(event){event.preventDefault();if(formData._id===post._id){var _id=formData._id;dispatch(updateCar(_id,formData));dispatch(updatePull(_id,formData));dispatch(upReset(post));setFormData({reset:true});setTimeout(function(){navigate(-1);},500);}else{dispatch(createCar(formData));setFormData({reset:true});}};var handleChange=function handleChange(event){setFormData({name:event.target.name,value:event.target.type==='checkbox'?event.target.checked:event.target.value});};var jsont=JSON.stringify(formData);localStorage.setItem(\"formdata\",jsont);return/*#__PURE__*/_jsxs(\"div\",{className:\"main\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Submit Car\"}),/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"btndiv\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"clearbtn\",type:\"button\",onClick:resetForm,children:\"Clear\"}),/*#__PURE__*/_jsx(\"button\",{className:\"clearbtn\",type:\"submit\",onClick:handleSubmit,children:\"Submit\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inprow\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Ticket #:\"}),/*#__PURE__*/_jsx(\"input\",{name:\"ticket\",onChange:handleChange,value:formData.ticket||''})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Type:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"type\",onChange:handleChange,value:formData.type||'',children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"--Please choose an option--\"}),/*#__PURE__*/_jsx(\"option\",{value:\"on\",children:\"Overnight\"}),/*#__PURE__*/_jsx(\"option\",{value:\"day\",children:\"Day use\"})]})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Price:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"price\",onChange:handleChange,value:formData.price||'',children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"--Please choose an option--\"}),/*#__PURE__*/_jsx(\"option\",{value:\"fuji\",children:\"Fuji\"}),/*#__PURE__*/_jsx(\"option\",{value:\"jonathan\",children:\"Jonathan\"}),/*#__PURE__*/_jsx(\"option\",{value:\"honey-crisp\",children:\"Honey Crisp\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inprow\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{name:\"name\",onChange:handleChange,value:formData.name||''})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"VIP:\"}),/*#__PURE__*/_jsx(\"input\",{checked:formData['vip']||false,name:\"vip\",onChange:handleChange,type:\"checkbox\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inprow\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Room:\"}),/*#__PURE__*/_jsx(\"input\",{name:\"room\",onChange:handleChange,value:formData.room||''})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Retrieve at:\"}),/*#__PURE__*/_jsx(\"input\",{name:\"retrieve\",onChange:handleChange,value:formData.retrieve||''})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inprow\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Departure:\"}),/*#__PURE__*/_jsx(\"input\",{name:\"depart\",onChange:handleChange,value:formData.depart||''})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Out front:\"}),/*#__PURE__*/_jsx(\"input\",{checked:formData['outfront']||false,name:\"outfront\",onChange:handleChange,type:\"checkbox\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inprow\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Vehicle make:\"}),/*#__PURE__*/_jsx(\"input\",{name:\"vmake\",onChange:handleChange,value:formData.vmake||''})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Notes:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"textfield\",name:\"notes\",onChange:handleChange,value:formData.notes||''})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inprow\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Vehicle color:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"vcolor\",onChange:handleChange,value:formData.vcolor||'',children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"--Please choose an option--\"}),/*#__PURE__*/_jsx(\"option\",{value:\"fuji\",children:\"Fuji\"}),/*#__PURE__*/_jsx(\"option\",{value:\"jonathan\",children:\"Jonathan\"}),/*#__PURE__*/_jsx(\"option\",{value:\"honey-crisp\",children:\"Honey Crisp\"})]})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Parking spot:\"}),/*#__PURE__*/_jsx(\"input\",{name:\"pspot\",onChange:handleChange,value:formData.pspot||''})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inprow\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Vehicle model:\"}),/*#__PURE__*/_jsx(\"input\",{name:\"vmodel\",onChange:handleChange,value:formData.vmodel||''})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"License plate #:\"}),/*#__PURE__*/_jsx(\"input\",{name:\"license\",onChange:handleChange,value:formData.license||''})]})]})]})})]});}export default SubCar;","map":{"version":3,"sources":["C:/Users/Chris/Documents/GitHub/ValetProUser/Client/src/components/SubCar/SubCar.js"],"names":["React","useReducer","useState","useEffect","createCar","updateCar","updatePull","useNavigate","useDispatch","useSelector","upReset","_","formReducer","state","event","reset","room","type","name","value","SubCar","formT","setFormT","post","updateForm","pos","Object","values","jso","JSON","stringify","localStorage","setItem","json","getItem","savedNotes","parse","dispatch","length","_id","formData","setFormData","navigate","resetForm","handleSubmit","preventDefault","setTimeout","handleChange","target","checked","jsont","ticket","price","retrieve","depart","vmake","notes","vcolor","pspot","vmodel","license"],"mappings":"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","sourcesContent":["import React, { useReducer, useState, useEffect } from 'react';\r\nimport './SubCar.css';\r\nimport { createCar, updateCar } from '../../_actions/subCars';\r\nimport { updatePull } from '../../_actions/pulls';\r\n\r\nimport { useNavigate } from 'react-router';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { upReset } from '../../_actions/updateForm';\r\n\r\nimport _ from 'lodash'\r\n\r\nconst formReducer = (state, event) => {\r\n\r\n   if(event.reset) {\r\n      \r\n  return{room: 880, type: \"on\"}\r\n    \r\n }\r\n  return {\r\n      ...state,\r\n    [event.name]: event.value\r\n  }\r\n  \r\n}\r\nfunction SubCar({formT, setFormT}) {\r\n\r\n  const post = useSelector( state => state.updateForm )\r\n  const pos = Object.values(post)\r\n\r\n\r\n  useEffect (() => {\r\n    const jso = JSON.stringify(post);\r\n      localStorage.setItem(\"upform\", jso);\r\n    })\r\n      const json = localStorage.getItem(\"formdata\");\r\n  const savedNotes = JSON.parse(json);\r\n    \r\n  const dispatch = useDispatch() \r\n\r\n  const length = pos.length\r\n\r\n  const [formData, setFormData] = useReducer(formReducer,  \r\n  length!==0 && post._id!==1 ? post : savedNotes ? savedNotes : {room: 880, type: \"on\"});\r\n    \r\n  let navigate = useNavigate();\r\n\r\n   /*const form = {room: 880, type: \"on\"}\r\n   let o = Object.fromEntries(Object.entries(savedNotes).filter(([_, v]) => v !== \"\"));\r\n   const uptrue = _.isEqual(post, o)\r\n   const formt = _.isEqual(savedNotes, form)\r\n\r\n  useEffect(() => {\r\n     if (uptrue)  {  \r\n       dispatch(upReset(post))\r\n      const jsont = JSON.stringify(form);\r\n    localStorage.setItem(\"formdata\", jsont);\r\n     setFormT(false);\r\n      console.log(formT)\r\n    }else if (formt){\r\n      setFormT(false)\r\n      console.log(formT)\r\n    }else{\r\n    setFormT(true)\r\n    console.log(formT)\r\n    console.log(o)}\r\n\r\n  },[setFormT, formT])*/\r\n\r\n    const resetForm = () => {\r\n       setFormData({reset: true})\r\n       \r\n    }\r\n  const handleSubmit = (event ) => {\r\n    event.preventDefault();\r\n      if (formData._id === post._id){\r\n      const _id = formData._id\r\n      dispatch(updateCar(_id, formData))\r\n      dispatch(updatePull(_id, formData))\r\n      dispatch(upReset(post))\r\n      setFormData({reset: true})\r\n      setTimeout(() => {\r\n      navigate(-1) }, 500)\r\n      }else{\r\n      dispatch(createCar(formData))\r\n      setFormData({reset: true})}\r\n       }\r\n    \r\n      const handleChange = event => {\r\n        setFormData({\r\n          name: event.target.name,\r\n          value: event.target.type === 'checkbox' ? event.target.checked : event.target.value\r\n        });\r\n        };\r\n        const jsont = JSON.stringify(formData);\r\n        localStorage.setItem(\"formdata\", jsont);\r\n\r\n   return (\r\n\r\n    <div className=\"main\">\r\n      <h1>Submit Car</h1>\r\n      <form >\r\n        <fieldset >\r\n        <div className=\"btndiv\">\r\n         <button className='clearbtn' type=\"button\" onClick={resetForm} >Clear</button>\r\n         <button className=\"clearbtn\" type=\"submit\" onClick={handleSubmit} >Submit</button>\r\n         </div>\r\n         <div className='inprow'>\r\n          <label>\r\n            <p>Ticket #:</p>\r\n            <input name=\"ticket\" onChange={handleChange} value={formData.ticket || ''} />\r\n          </label>\r\n          <label>\r\n            <p>Type:</p>\r\n            <select name=\"type\" onChange={handleChange} value={formData.type || ''}>\r\n                <option value=\"\">--Please choose an option--</option>\r\n                <option value=\"on\">Overnight</option>\r\n                <option value=\"day\">Day use</option>\r\n            </select>\r\n          </label>\r\n          <label>\r\n            <p>Price:</p>\r\n            <select name=\"price\" onChange={handleChange} value={formData.price || ''}>\r\n                <option value=\"\">--Please choose an option--</option>\r\n                <option value=\"fuji\">Fuji</option>\r\n                <option value=\"jonathan\">Jonathan</option>\r\n                <option value=\"honey-crisp\">Honey Crisp</option>\r\n            </select>\r\n          </label>\r\n          </div>\r\n          <div className='inprow'>\r\n        <label>\r\n             <p>Name:</p>\r\n             <input name=\"name\" onChange={handleChange} value={formData.name || ''} />\r\n          </label>\r\n          <label>\r\n            <p>VIP:</p>\r\n            <input\r\n              checked={formData['vip'] || false}\r\n              name=\"vip\"\r\n              onChange={handleChange}\r\n              type=\"checkbox\"\r\n            />\r\n          </label>\r\n          </div>\r\n          <div className='inprow'>\r\n        <label>\r\n             <p>Room:</p>\r\n             <input name=\"room\" onChange={handleChange} value={formData.room || ''} />\r\n          </label>\r\n          <label>\r\n             <p>Retrieve at:</p>\r\n             <input name=\"retrieve\" onChange={handleChange} value={formData.retrieve || ''} />\r\n          </label>\r\n          </div>\r\n          <div className='inprow'>\r\n        <label>\r\n             <p>Departure:</p>\r\n             <input name=\"depart\" onChange={handleChange} value={formData.depart || ''} />\r\n          </label>\r\n          <label>\r\n            <p>Out front:</p>\r\n            <input\r\n              checked={formData['outfront'] || false}\r\n              name=\"outfront\"\r\n              onChange={handleChange}\r\n              type=\"checkbox\"\r\n            />\r\n          </label>\r\n          </div>\r\n          <div className='inprow'>\r\n          <label>\r\n             <p>Vehicle make:</p>\r\n             <input name=\"vmake\" onChange={handleChange} value={formData.vmake || ''} />\r\n          </label>\r\n          <label>\r\n             <p>Notes:</p>\r\n             <input type=\"textfield\" name=\"notes\" onChange={handleChange} value={formData.notes || ''} />\r\n          </label>\r\n          </div>\r\n          <div className='inprow'>\r\n          <label>\r\n            <p>Vehicle color:</p>\r\n            <select name=\"vcolor\" onChange={handleChange} value={formData.vcolor || ''}>\r\n                <option value=\"\">--Please choose an option--</option>\r\n                <option value=\"fuji\">Fuji</option>\r\n                <option value=\"jonathan\">Jonathan</option>\r\n                <option value=\"honey-crisp\">Honey Crisp</option>\r\n            </select>\r\n            </label>\r\n            <label>\r\n            <p>Parking spot:</p>\r\n            <input name=\"pspot\" onChange={handleChange} value={formData.pspot || ''} />\r\n          </label>\r\n          </div>\r\n          <div className='inprow'>\r\n          <label>\r\n             <p>Vehicle model:</p>\r\n             <input name=\"vmodel\" onChange={handleChange} value={formData.vmodel || ''} />\r\n          </label>\r\n          <label>\r\n             <p>License plate #:</p>\r\n             <input name=\"license\" onChange={handleChange} value={formData.license || ''} />\r\n          </label>\r\n          </div>\r\n        </fieldset>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SubCar;"]},"metadata":{},"sourceType":"module"}