{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import _slicedToArray from\"C:/Users/Chris/Documents/GitHub/ValetProUser/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"C:/Users/Chris/Documents/GitHub/ValetProUser/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/Chris/Documents/GitHub/ValetProUser/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useEffect,useReducer}from\"react\";import{batch,useDispatch,useSelector}from\"react-redux\";import{deleteCar}from\"../../_actions/subCars\";import{createPull}from\"../../_actions/pulls\";import Pay from\"../List/Pay\";import{upReset}from\"../../_actions/updateForm\";import{updateCar}from\"../../_actions/subCars\";import{updatePull}from\"../../_actions/pulls\";import*as api from'../../_api';import\"../List/List.css\";var formReducer=function formReducer(state,event){if(event.reset){return{};}return _objectSpread(_objectSpread({},state),{},_defineProperty({},event.name,event.value));};var CarsM=function CarsM(_ref){var pulldata=_ref.pulldata,pullId=_ref.pullId,setModal=_ref.setModal,tableData=_ref.tableData;var post=useSelector(function(state){return state.updateForm;});var pos=Object.values(post);useEffect(function(){var jso=JSON.stringify(post);localStorage.setItem(\"upform2\",jso);});var json=localStorage.getItem(\"pay\");var savedNotes=JSON.parse(json);var dispatch=useDispatch();var length=pos.length;var _useReducer=useReducer(formReducer,length!==0&&post._id!==1?post:savedNotes?savedNotes:{room:880,type:\"on\"}),_useReducer2=_slicedToArray(_useReducer,2),formData=_useReducer2[0],setFormData=_useReducer2[1];useEffect(function(){if(formData.status!==post.status){var _id=formData._id;dispatch(updateCar(_id,formData));dispatch(upReset(post));setFormData({reset:true});setModal(false);}});var handleChange=function handleChange(event){setFormData({name:event.target.name,value:event.target.type==='checkbox'?event.target.checked:event.target.value});};var handleCheckOut=function handleCheckOut(e){var evt=pullId;tableData.filter(function(data){if(evt===data._id){data.status=e.target.value;data.complete=\"Complete\";api.createPull(data);dispatch(deleteCar(data._id));setModal(false);}});};var handlePull=function handlePull(){var evt=pullId;tableData.filter(function(data){if(evt===data._id){data.status=\"process\";dispatch(deleteCar(data._id));api.createPull(data);setModal(false);}});};var handleRoom=function handleRoom(e){var evt=pullId;tableData.filter(function(data){if(evt===data._id){data.room=e.target.value;dispatch(updateCar(data._id,formData));}});};var handleTypeChange=function handleTypeChange(){var evt=pullId;tableData.filter(function(data){if(evt===data._id&&data.type===\"ON\"){data.type=\"DAY\";data.hot=\"\";dispatch(updateCar(data._id,data));}else if(evt===data._id&&data.type===\"DAY\"){data.type=\"ON\";dispatch(updateCar(data._id,data));}});};var handleModal=function handleModal(){dispatch(upReset(post));setModal(false);};var jsont=JSON.stringify(formData);localStorage.setItem(\"pay\",jsont);return/*#__PURE__*/_jsx(\"div\",{className:\"backshadow\",onClick:handleModal,children:/*#__PURE__*/_jsxs(\"div\",{className:\"custom-modal\",onClick:function onClick(e){return e.stopPropagation();},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tickinfomain\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tickinfo\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Ticket #:\\xA0 \",pulldata.ticket]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Name:\\xA0\",pulldata.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Room:\\xA0\",pulldata.room]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Stall #:\\xA0\",pulldata.pspot]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"LP#:\\xA0\",pulldata.license]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Vehicle:\\xA0\",pulldata.vcolor,\"\\xA0\",pulldata.vmake,\"\\xA0\",pulldata.vmodel]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tickinfo\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Departure:\\xA0\",pulldata.depart]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Type:\\xA0\",pulldata.type]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Price:\\xA0\",pulldata.price]}),/*#__PURE__*/_jsxs(\"p\",{children:[pulldata.vip,\"\\xA0\",pulldata.oufront]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Notes:\\xA0\",pulldata.notes]})]})]}),formData.type===\"ON\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"bdiv\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"mbtn\",type:\"button\",name:\"status\",value:\"Checking Out\",onClick:handleCheckOut,children:\"Checking Out\"}),/*#__PURE__*/_jsx(\"button\",{className:\"mbtn\",type:\"button\",name:\"status\",value:\"Returning\",onClick:handleCheckOut,children:\"Returning\"}),/*#__PURE__*/_jsx(\"button\",{className:\"mbtn\",type:\"button\",name:\"pulls\",value:\"Pull\",onClick:handlePull,children:\"Pull\"}),/*#__PURE__*/_jsx(\"button\",{className:\"mbtn\",type:\"button\",name:\"pulls\",value:\"Pull\",onClick:handleTypeChange,children:\"Change to day use\"}),formData.hot&&/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Room:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"rinput\",placeholder:\"Room #...\",name:\"room\",onChange:handleChange,value:formData.room||''}),/*#__PURE__*/_jsx(\"button\",{className:\"mbtn room\",onClick:handleRoom,value:formData.room||'',children:\"Room\"})]})]}),formData.type===\"DAY\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"bdiv\",children:[/*#__PURE__*/_jsx(Pay,_objectSpread({},{setModal:setModal,tableData:tableData,pullId:pullId})),/*#__PURE__*/_jsx(\"button\",{className:\"mbtn\",type:\"button\",name:\"pulls\",value:\"Pull\",onClick:handlePull,children:\"Pull\"}),/*#__PURE__*/_jsx(\"button\",{className:\"mbtn\",type:\"button\",name:\"pulls\",value:\"Pull\",onClick:handleTypeChange,children:\"Change to overnight\"})]})]})});};export default CarsM;","map":{"version":3,"sources":["C:/Users/Chris/Documents/GitHub/ValetProUser/Client/src/components/Pages/CarsM.js"],"names":["React","useEffect","useReducer","batch","useDispatch","useSelector","deleteCar","createPull","Pay","upReset","updateCar","updatePull","api","formReducer","state","event","reset","name","value","CarsM","pulldata","pullId","setModal","tableData","post","updateForm","pos","Object","values","jso","JSON","stringify","localStorage","setItem","json","getItem","savedNotes","parse","dispatch","length","_id","room","type","formData","setFormData","status","handleChange","target","checked","handleCheckOut","e","evt","filter","data","complete","handlePull","handleRoom","handleTypeChange","hot","handleModal","jsont","stopPropagation","ticket","pspot","license","vcolor","vmake","vmodel","depart","price","vip","oufront","notes"],"mappings":"ulBAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,UAA1B,KAA2C,OAA3C,CACA,OAASC,KAAT,CAAgBC,WAAhB,CAA6BC,WAA7B,KAAgD,aAAhD,CACA,OAASC,SAAT,KAA0B,wBAA1B,CACA,OAASC,UAAT,KAA2B,sBAA3B,CACA,MAAOC,CAAAA,GAAP,KAAgB,aAAhB,CACA,OAASC,OAAT,KAAwB,2BAAxB,CACA,OAASC,SAAT,KAA0B,wBAA1B,CACA,OAASC,UAAT,KAA2B,sBAA3B,CACA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,YAArB,CACA,MAAO,kBAAP,CAGA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,CAAQC,KAAR,CAAkB,CAElC,GAAGA,KAAK,CAACC,KAAT,CAAgB,CACd,MAAO,EAAP,CAGH,CACA,sCACOF,KADP,wBAEGC,KAAK,CAACE,IAFT,CAEgBF,KAAK,CAACG,KAFtB,GAGE,CAVL,CAYA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,MAA8C,IAA3CC,CAAAA,QAA2C,MAA3CA,QAA2C,CAAjCC,MAAiC,MAAjCA,MAAiC,CAAzBC,QAAyB,MAAzBA,QAAyB,CAAfC,SAAe,MAAfA,SAAe,CAExD,GAAMC,CAAAA,IAAI,CAAGnB,WAAW,CAAE,SAAAS,KAAK,QAAIA,CAAAA,KAAK,CAACW,UAAV,EAAP,CAAxB,CACA,GAAMC,CAAAA,GAAG,CAAGC,MAAM,CAACC,MAAP,CAAcJ,IAAd,CAAZ,CAEDvB,SAAS,CAAE,UAAM,CAChB,GAAM4B,CAAAA,GAAG,CAAGC,IAAI,CAACC,SAAL,CAAeP,IAAf,CAAZ,CACEQ,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAgCJ,GAAhC,EACD,CAHO,CAAT,CAKG,GAAMK,CAAAA,IAAI,CAAGF,YAAY,CAACG,OAAb,CAAqB,KAArB,CAAb,CACJ,GAAMC,CAAAA,UAAU,CAAGN,IAAI,CAACO,KAAL,CAAWH,IAAX,CAAnB,CAEA,GAAMI,CAAAA,QAAQ,CAAGlC,WAAW,EAA5B,CAEA,GAAMmC,CAAAA,MAAM,CAAGb,GAAG,CAACa,MAAnB,CAf0D,gBAiB1BrC,UAAU,CAACW,WAAD,CAC1C0B,MAAM,GAAG,CAAT,EAAcf,IAAI,CAACgB,GAAL,GAAW,CAAzB,CAA6BhB,IAA7B,CAAoCY,UAAU,CAAGA,UAAH,CAAgB,CAACK,IAAI,CAAE,GAAP,CAAYC,IAAI,CAAE,IAAlB,CADpB,CAjBgB,4CAiBnDC,QAjBmD,iBAiBzCC,WAjByC,iBAuBnD3C,SAAS,CAAC,UAAM,CACf,GAAG0C,QAAQ,CAACE,MAAT,GAAoBrB,IAAI,CAACqB,MAA5B,CAAoC,CAClC,GAAML,CAAAA,GAAG,CAAGG,QAAQ,CAACH,GAArB,CACAF,QAAQ,CAAC5B,SAAS,CAAC8B,GAAD,CAAMG,QAAN,CAAV,CAAR,CACAL,QAAQ,CAAC7B,OAAO,CAACe,IAAD,CAAR,CAAR,CACEoB,WAAW,CAAC,CAAC5B,KAAK,CAAE,IAAR,CAAD,CAAX,CACFM,QAAQ,CAAC,KAAD,CAAR,CAEE,CACJ,CATQ,CAAT,CAWL,GAAMwB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAC/B,KAAD,CAAW,CAC9B6B,WAAW,CAAC,CACV3B,IAAI,CAAEF,KAAK,CAACgC,MAAN,CAAa9B,IADT,CAEVC,KAAK,CAAEH,KAAK,CAACgC,MAAN,CAAaL,IAAb,GAAsB,UAAtB,CAAmC3B,KAAK,CAACgC,MAAN,CAAaC,OAAhD,CAA0DjC,KAAK,CAACgC,MAAN,CAAa7B,KAFpE,CAAD,CAAX,CAKD,CAND,CAQA,GAAM+B,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,CAAD,CAAO,CAC5B,GAAMC,CAAAA,GAAG,CAAG9B,MAAZ,CACAE,SAAS,CAAC6B,MAAV,CAAiB,SAACC,IAAD,CAAU,CAC3B,GAAIF,GAAG,GAAKE,IAAI,CAACb,GAAjB,CAAsB,CACtBa,IAAI,CAACR,MAAL,CAAYK,CAAC,CAACH,MAAF,CAAS7B,KAArB,CACAmC,IAAI,CAACC,QAAL,CAAc,UAAd,CACA1C,GAAG,CAACL,UAAJ,CAAe8C,IAAf,EACAf,QAAQ,CAAChC,SAAS,CAAC+C,IAAI,CAACb,GAAN,CAAV,CAAR,CACAlB,QAAQ,CAAC,KAAD,CAAR,CACC,CACF,CARC,EAQC,CAVH,CAYA,GAAMiC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACrB,GAAMJ,CAAAA,GAAG,CAAG9B,MAAZ,CACAE,SAAS,CAAC6B,MAAV,CAAiB,SAACC,IAAD,CAAU,CAC3B,GAAIF,GAAG,GAAKE,IAAI,CAACb,GAAjB,CAAsB,CACtBa,IAAI,CAACR,MAAL,CAAY,SAAZ,CACAP,QAAQ,CAAChC,SAAS,CAAC+C,IAAI,CAACb,GAAN,CAAV,CAAR,CACA5B,GAAG,CAACL,UAAJ,CAAe8C,IAAf,EACA/B,QAAQ,CAAC,KAAD,CAAR,CACC,CACF,CAPC,EAOC,CATL,CAWE,GAAMkC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACN,CAAD,CAAO,CACxB,GAAMC,CAAAA,GAAG,CAAG9B,MAAZ,CACAE,SAAS,CAAC6B,MAAV,CAAiB,SAACC,IAAD,CAAU,CAC3B,GAAIF,GAAG,GAAKE,IAAI,CAACb,GAAjB,CAAsB,CACtBa,IAAI,CAACZ,IAAL,CAAUS,CAAC,CAACH,MAAF,CAAS7B,KAAnB,CACDoB,QAAQ,CAAC5B,SAAS,CAAC2C,IAAI,CAACb,GAAN,CAAWG,QAAX,CAAV,CAAR,CACE,CACF,CALC,EAKC,CAPH,CAQA,GAAMc,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAC7B,GAAMN,CAAAA,GAAG,CAAG9B,MAAZ,CACAE,SAAS,CAAC6B,MAAV,CAAiB,SAACC,IAAD,CAAU,CAC3B,GAAIF,GAAG,GAAKE,IAAI,CAACb,GAAb,EAAoBa,IAAI,CAACX,IAAL,GAAY,IAApC,CAA0C,CAC1CW,IAAI,CAACX,IAAL,CAAU,KAAV,CACAW,IAAI,CAACK,GAAL,CAAS,EAAT,CACApB,QAAQ,CAAC5B,SAAS,CAAC2C,IAAI,CAACb,GAAN,CAAWa,IAAX,CAAV,CAAR,CACC,CAJD,IAIM,IAAGF,GAAG,GAAKE,IAAI,CAACb,GAAb,EAAoBa,IAAI,CAACX,IAAL,GAAY,KAAnC,CAA0C,CAC9CW,IAAI,CAACX,IAAL,CAAU,IAAV,CACAJ,QAAQ,CAAC5B,SAAS,CAAC2C,IAAI,CAACb,GAAN,CAAWa,IAAX,CAAV,CAAR,CAAoC,CACvC,CARC,EAQC,CAVH,CAYE,GAAMM,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACtBrB,QAAQ,CAAC7B,OAAO,CAACe,IAAD,CAAR,CAAR,CACAF,QAAQ,CAAC,KAAD,CAAR,CACH,CAHD,CAKA,GAAMsC,CAAAA,KAAK,CAAG9B,IAAI,CAACC,SAAL,CAAeY,QAAf,CAAd,CACAX,YAAY,CAACC,OAAb,CAAqB,KAArB,CAA4B2B,KAA5B,EAGJ,mBACI,YAAK,SAAS,CAAC,YAAf,CAA4B,OAAO,CAAED,WAArC,uBACI,aAAK,SAAS,CAAC,cAAf,CAA8B,OAAO,CAAE,iBAACT,CAAD,QAAOA,CAAAA,CAAC,CAACW,eAAF,EAAP,EAAvC,wBACE,aAAK,SAAS,CAAC,cAAf,wBACE,aAAK,SAAS,CAAC,UAAf,wBACE,sCAAoBzC,QAAQ,CAAC0C,MAA7B,GADF,cAEE,iCAAe1C,QAAQ,CAACH,IAAxB,GAFF,cAGE,iCAAeG,QAAQ,CAACqB,IAAxB,GAHF,cAIE,oCAAkBrB,QAAQ,CAAC2C,KAA3B,GAJF,cAKE,gCAAc3C,QAAQ,CAAC4C,OAAvB,GALF,cAME,oCAAkB5C,QAAQ,CAAC6C,MAA3B,QAAyC7C,QAAQ,CAAC8C,KAAlD,QAA+D9C,QAAQ,CAAC+C,MAAxE,GANF,GADF,cASE,aAAK,SAAS,CAAC,UAAf,wBACE,sCAAoB/C,QAAQ,CAACgD,MAA7B,GADF,cAEE,iCAAehD,QAAQ,CAACsB,IAAxB,GAFF,cAGE,kCAAgBtB,QAAQ,CAACiD,KAAzB,GAHF,cAIE,qBAAIjD,QAAQ,CAACkD,GAAb,QAAwBlD,QAAQ,CAACmD,OAAjC,GAJF,cAKE,kCAAgBnD,QAAQ,CAACoD,KAAzB,GALF,GATF,GADF,CAkBQ7B,QAAQ,CAACD,IAAT,GAAgB,IAAhB,eACD,aAAK,SAAS,CAAC,MAAf,wBAEH,eAAQ,SAAS,CAAC,MAAlB,CAAyB,IAAI,CAAC,QAA9B,CAAuC,IAAI,CAAC,QAA5C,CAAqD,KAAK,CAAC,cAA3D,CAA0E,OAAO,CAAEO,cAAnF,0BAFG,cAGH,eAAQ,SAAS,CAAC,MAAlB,CAAyB,IAAI,CAAC,QAA9B,CAAuC,IAAI,CAAC,QAA5C,CAAqD,KAAK,CAAC,WAA3D,CAAuE,OAAO,CAAEA,cAAhF,uBAHG,cAIH,eAAQ,SAAS,CAAC,MAAlB,CAAyB,IAAI,CAAC,QAA9B,CAAwC,IAAI,CAAC,OAA7C,CAAqD,KAAK,CAAC,MAA3D,CAAkE,OAAO,CAAEM,UAA3E,kBAJG,cAKH,eAAQ,SAAS,CAAC,MAAlB,CAAyB,IAAI,CAAC,QAA9B,CAAwC,IAAI,CAAC,OAA7C,CAAqD,KAAK,CAAC,MAA3D,CAAkE,OAAO,CAAEE,gBAA3E,+BALG,CAQFd,QAAQ,CAACe,GAAT,eACC,sCACE,4BADF,cAEA,cAAO,SAAS,CAAC,QAAjB,CAA0B,WAAW,CAAC,WAAtC,CAAiD,IAAI,CAAC,MAAtD,CAA6D,QAAQ,CAAEZ,YAAvE,CAAqF,KAAK,CAAEH,QAAQ,CAACF,IAAT,EAAiB,EAA7G,EAFA,cAGA,eAAS,SAAS,CAAC,WAAnB,CAA+B,OAAO,CAAEe,UAAxC,CAAoD,KAAK,CAAEb,QAAQ,CAACF,IAAT,EAAiB,EAA5E,kBAHA,GATC,GAnBP,CAmCOE,QAAQ,CAACD,IAAT,GAAgB,KAAhB,eACH,aAAK,SAAS,CAAC,MAAf,wBACG,KAAC,GAAD,kBAAS,CAACpB,QAAQ,CAARA,QAAD,CAAWC,SAAS,CAATA,SAAX,CAAsBF,MAAM,CAANA,MAAtB,CAAT,EADH,cAEC,eAAS,SAAS,CAAC,MAAnB,CAA0B,IAAI,CAAC,QAA/B,CAAyC,IAAI,CAAC,OAA9C,CAAsD,KAAK,CAAC,MAA5D,CAAmE,OAAO,CAAEkC,UAA5E,kBAFD,cAGC,eAAS,SAAS,CAAC,MAAnB,CAA0B,IAAI,CAAC,QAA/B,CAAyC,IAAI,CAAC,OAA9C,CAAsD,KAAK,CAAC,MAA5D,CAAmE,OAAO,CAAEE,gBAA5E,iCAHD,GApCJ,GADJ,EADJ,CA+CH,CA7ID,CA+IA,cAAetC,CAAAA,KAAf","sourcesContent":["import React, {useEffect, useReducer} from \"react\"\r\nimport { batch, useDispatch, useSelector } from \"react-redux\";\r\nimport { deleteCar } from \"../../_actions/subCars\";\r\nimport { createPull } from \"../../_actions/pulls\";\r\nimport Pay from \"../List/Pay\";\r\nimport { upReset } from \"../../_actions/updateForm\";\r\nimport { updateCar } from \"../../_actions/subCars\";\r\nimport { updatePull } from \"../../_actions/pulls\";\r\nimport * as api from '../../_api';\r\nimport \"../List/List.css\"\r\n\r\n\r\nconst formReducer = (state, event) => {\r\n\r\n    if(event.reset) {\r\n      return {\r\n      \r\n     }\r\n  }\r\n   return {\r\n       ...state,\r\n     [event.name]: event.value\r\n   }}\r\n\r\nconst CarsM = ({ pulldata, pullId, setModal, tableData}) => {\r\n\r\n    const post = useSelector( state => state.updateForm )\r\n    const pos = Object.values(post)\r\n\r\n   useEffect (() => {\r\n    const jso = JSON.stringify(post);\r\n      localStorage.setItem(\"upform2\", jso);\r\n    })\r\n  \r\n      const json = localStorage.getItem(\"pay\");\r\n  const savedNotes = JSON.parse(json);\r\n      \r\n  const dispatch = useDispatch() \r\n\r\n  const length = pos.length\r\n\r\n  const [formData, setFormData] = useReducer(formReducer,  \r\n  length!==0 && post._id!==1 ? post : savedNotes ? savedNotes : {room: 880, type: \"on\"});   \r\n\r\n\r\n     \r\n            \r\n         useEffect(() => {\r\n          if(formData.status !== post.status ){\r\n            const _id = formData._id\r\n            dispatch(updateCar(_id, formData))\r\n            dispatch(upReset(post))\r\n              setFormData({reset: true}) \r\n            setModal(false)\r\n            \r\n             }\r\n         })\r\n\r\n    const handleChange = (event) => {\r\n      setFormData({\r\n        name: event.target.name,\r\n        value: event.target.type === 'checkbox' ? event.target.checked : event.target.value\r\n      });\r\n\r\n    }\r\n           \r\n    const handleCheckOut = (e) => {\r\n      const evt = pullId\r\n      tableData.filter((data) => {\r\n      if (evt === data._id) {\r\n      data.status=e.target.value\r\n      data.complete=\"Complete\"\r\n      api.createPull(data)\r\n      dispatch(deleteCar(data._id))\r\n      setModal(false)\r\n      }\r\n    })}    \r\n\r\n    const handlePull = () => {\r\n        const evt = pullId\r\n        tableData.filter((data) => {\r\n        if (evt === data._id) { \r\n        data.status=\"process\"\r\n        dispatch(deleteCar(data._id))\r\n        api.createPull(data)\r\n        setModal(false)\r\n        }\r\n      })}\r\n      \r\n      const handleRoom = (e) => {\r\n        const evt = pullId\r\n        tableData.filter((data) => {\r\n        if (evt === data._id) {\r\n        data.room=e.target.value\r\n       dispatch(updateCar(data._id, formData))\r\n        }\r\n      })}\r\n      const handleTypeChange = () => {\r\n        const evt = pullId\r\n        tableData.filter((data) => {\r\n        if (evt === data._id && data.type===\"ON\") {\r\n        data.type=\"DAY\"\r\n        data.hot=\"\"\r\n        dispatch(updateCar(data._id, data))\r\n        }else if(evt === data._id && data.type===\"DAY\") {\r\n          data.type=\"ON\"\r\n          dispatch(updateCar(data._id, data))}\r\n      })}\r\n       \r\n        const handleModal = () => {\r\n            dispatch(upReset(post))\r\n            setModal(false)\r\n        }\r\n\r\n        const jsont = JSON.stringify(formData);\r\n        localStorage.setItem(\"pay\", jsont);\r\n    \r\n        \r\n    return (\r\n        <div className='backshadow' onClick={handleModal}>\r\n            <div className='custom-modal' onClick={(e) => e.stopPropagation()}>\r\n              <div className=\"tickinfomain\">\r\n                <div className=\"tickinfo\">\r\n                  <p>Ticket #:&nbsp; {pulldata.ticket}</p>\r\n                  <p>Name:&nbsp;{pulldata.name}</p>\r\n                  <p>Room:&nbsp;{pulldata.room}</p>\r\n                  <p>Stall #:&nbsp;{pulldata.pspot}</p>\r\n                  <p>LP#:&nbsp;{pulldata.license}</p>\r\n                  <p>Vehicle:&nbsp;{pulldata.vcolor}&nbsp;{pulldata.vmake}&nbsp;{pulldata.vmodel}</p> \r\n                </div>\r\n                <div className=\"tickinfo\">\r\n                  <p>Departure:&nbsp;{pulldata.depart}</p>\r\n                  <p>Type:&nbsp;{pulldata.type}</p>\r\n                  <p>Price:&nbsp;{pulldata.price}</p>  \r\n                  <p>{pulldata.vip}&nbsp;{pulldata.oufront}</p>\r\n                  <p>Notes:&nbsp;{pulldata.notes}</p>\r\n                </div>\r\n              </div>\r\n                   {formData.type===\"ON\"&&(\r\n                   <div className=\"bdiv\">\r\n                 \r\n                <button className=\"mbtn\" type=\"button\" name=\"status\" value=\"Checking Out\" onClick={handleCheckOut}>Checking Out</button>\r\n                <button className=\"mbtn\" type=\"button\" name=\"status\" value=\"Returning\" onClick={handleCheckOut}>Returning</button>\r\n                <button className=\"mbtn\" type=\"button\"  name=\"pulls\" value=\"Pull\" onClick={handlePull}>Pull</button>\r\n                <button className=\"mbtn\" type=\"button\"  name=\"pulls\" value=\"Pull\" onClick={handleTypeChange}>Change to day use</button>\r\n               \r\n\r\n                {formData.hot &&(\r\n                  <label> \r\n                    <p>Room:</p>\r\n                  <input className=\"rinput\" placeholder=\"Room #...\"name=\"room\" onChange={handleChange} value={formData.room || ''} />\r\n                  <button  className=\"mbtn room\" onClick={handleRoom} value={formData.room || ''} >Room</button>\r\n                  </label>\r\n                )}\r\n                </div>)}\r\n                  {formData.type===\"DAY\"&&(\r\n                <div className=\"bdiv\">\r\n                 { <Pay {...{setModal, tableData, pullId}}/> } \r\n                 <button  className=\"mbtn\" type=\"button\"  name=\"pulls\" value=\"Pull\" onClick={handlePull}>Pull</button>\r\n                 <button  className=\"mbtn\" type=\"button\"  name=\"pulls\" value=\"Pull\" onClick={handleTypeChange}>Change to overnight</button>\r\n                </div>)}\r\n                </div>  \r\n                \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CarsM;"]},"metadata":{},"sourceType":"module"}